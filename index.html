<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Craft - ุฏุณุชุงุฑ ููุดููุฏ ูุงูโฺฉุฑุงูุช</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.3/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-dark: #0f172a;
            --primary-blue: #3b82f6;
            --mc-green: #22c55e;
            --mc-red: #ef4444;
            --mc-gold: #fbbf24;
            --mc-diamond: #06b6d4;
            --mc-netherite: #4A1E1E;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            font-family: 'Vazirmatn', 'Segoe UI', sans-serif;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, 
                rgba(30, 41, 59, 0.9) 0%,
                rgba(15, 23, 42, 0.95) 100%);
        }
        
        .chat-container {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        .message-bubble {
            animation: messageAppear 0.3s ease-out;
            max-width: 85%;
            word-wrap: break-word;
        }
        
        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .user-bubble {
            background: linear-gradient(135deg, var(--primary-blue), #1d4ed8);
            border-radius: 18px 18px 4px 18px;
            margin-left: auto;
        }
        
        .bot-bubble {
            background: linear-gradient(135deg, #334155, #475569);
            border-radius: 18px 18px 18px 4px;
            border-right: 4px solid var(--mc-diamond);
        }
        
        .typing-indicator span {
            animation: bounce 1.4s infinite ease-in-out both;
            background-color: var(--mc-diamond);
        }
        
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes bounce {
            0%, 80%, 100% { 
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% { 
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .glow-effect {
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(6, 182, 212, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(6, 182, 212, 0); }
            100% { box-shadow: 0 0 0 0 rgba(6, 182, 212, 0); }
        }
        
        .scrollbar-thin {
            scrollbar-width: thin;
            scrollbar-color: var(--mc-diamond) #1e293b;
        }
        
        .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #1e293b;
            border-radius: 10px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: var(--mc-diamond);
            border-radius: 10px;
        }
        
        .quick-action-btn {
            transition: all 0.2s ease;
        }
        
        .quick-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .mc-grid {
            background-image: 
                linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px);
            background-size: 30px 30px;
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* ุงุณุชุงูโูุง ุฌุฏุฏ */
        .player-status-bar {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--mc-diamond);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 50;
            padding: 8px 16px;
        }
        
        .xp-bar {
            height: 8px;
            background: linear-gradient(90deg, #3b82f6, #06b6d4);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .achievement-badge {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #78350f;
            border-radius: 12px;
            padding: 4px 10px;
            font-size: 11px;
            font-weight: bold;
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border: 2px solid var(--mc-diamond);
            border-radius: 20px;
            animation: modalAppear 0.3s ease-out;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        .speedrun-mode {
            border: 2px solid #ef4444;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), transparent);
        }
        
        .tutor-step {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), transparent);
            border-right: 4px solid var(--mc-green);
        }
        
        .calculator-input {
            direction: ltr;
            text-align: left;
        }
        
        .level-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .level-noob { background: #ef4444; }
        .level-beginner { background: #f59e0b; }
        .level-intermediate { background: #06b6d4; }
        .level-pro { background: #8b5cf6; }
        .level-master { background: linear-gradient(135deg, #fbbf24, #ef4444); }
        
        .video-suggestion {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), transparent);
            border-right: 3px solid #8b5cf6;
        }
        
        .challenge-badge {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            animation: pulse 2s infinite;
        }
        
        .suggested-question {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 10px;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .suggested-question:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateY(-2px);
        }
        
        .mode-indicator {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 10;
        }
        
        .mode-normal { background: var(--mc-diamond); }
        .mode-speedrun { background: var(--mc-red); }
        .mode-tutor { background: var(--mc-green); }
        .mode-redstone { background: #dc2626; }

        /* ุงุณุชุงูโูุง ุฑูุน ุจุงฺฏ */
        .profile-btn {
            border: 2px solid #374151;
            transition: all 0.2s;
            background: rgba(30, 41, 59, 0.5);
        }
        
        .profile-btn:hover {
            border-color: currentColor;
            transform: translateY(-2px);
        }
        
        .profile-btn.selected {
            border-color: currentColor !important;
            background: rgba(30, 41, 59, 0.8);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            animation: slideIn 0.3s ease-out;
            max-width: 300px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .toast-success {
            background: linear-gradient(135deg, #059669, #10b981);
            color: white;
        }
        
        .toast-error {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            color: white;
        }
        
        .toast-warning {
            background: linear-gradient(135deg, #d97706, #f59e0b);
            color: white;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .saving-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(30, 41, 59, 0.9);
            border: 1px solid var(--mc-diamond);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 12px;
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 6px;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .profile-input {
            background: rgba(30, 41, 59, 0.8);
            border: 2px solid #374151;
            border-radius: 10px;
            padding: 12px 16px;
            color: white;
            font-family: inherit;
            transition: all 0.3s;
            width: 100%;
        }
        
        .profile-input:focus {
            outline: none;
            border-color: var(--mc-diamond);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.1);
        }
        
        /* ุฑูุน ุจุงฺฏ ููุฏุงูโูุง */
        .modal-overlay.active {
            display: flex;
        }
        /* ุซุงุจุช ูุงูุฏู ุงุฑุชูุงุน ฺุช ู ูุนุงู ุดุฏู ุงุณฺฉุฑูู */
#chatbox {
    max-height: 400px;      /* ุงุฑุชูุงุน ุซุงุจุช ุจุงฺฉุณ ูพุงูโูุง */
    overflow-y: auto;       /* ุงุณฺฉุฑูู ุนููุฏ */
    overflow-x: hidden;     /* ุฌููฺฏุฑ ุงุฒ ุงุณฺฉุฑูู ุงูู */
}
    </style>
</head>
<body class="text-white mc-grid">
    <!-- Floating Icons -->
    <div class="fixed top-4 left-4 text-3xl floating opacity-20">โ๏ธ</div>
    <div class="fixed top-10 right-10 text-2xl floating opacity-20" style="animation-delay: 0.5s">๐งฑ</div>
    <div class="fixed bottom-20 left-20 text-3xl floating opacity-20" style="animation-delay: 1s">๐</div>
    <div class="fixed bottom-10 right-20 text-2xl floating opacity-20" style="animation-delay: 1.5s">โ๏ธ</div>
    
    <!-- Player Status Bar -->
    <div class="player-status-bar hidden md:block">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-2">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 flex items-center justify-center cursor-pointer" onclick="openProfileModal()">
                        <i class="fas fa-user text-lg"></i>
                    </div>
                    <div>
                        <div class="flex items-center gap-2">
                            <span id="playerName">ุจุงุฒุฏุฏฺฉููุฏู</span>
                            <span id="playerLevel" class="level-badge level-noob">Noob</span>
                        </div>
                        <div class="text-xs text-gray-400">
                            XP: <span id="playerXP">0</span>/<span id="playerMaxXP">100</span>
                        </div>
                    </div>
                </div>
                <div class="w-32">
                    <div class="xp-bar" id="xpBar" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="flex items-center gap-3">
                <div class="text-center">
                    <div class="text-sm">ฺุงูุด ุฑูุฒุงูู</div>
                    <div id="dailyChallenge" class="text-xs text-cyan-300">ณ ุดุจ ุฒูุฏู ุจูุงู</div>
                </div>
                <div class="flex gap-1">
                    <div class="achievement-badge" title="ุงููู ุณูุงู" id="firstQuestionBadge">๐ฏ</div>
                    <div class="achievement-badge hidden" title="ูพุฑุณุดฺฏุฑ ุญุฑููโุง" id="proBadge">๐</div>
                </div>
                <button id="shareLinkBtn" class="text-xs px-3 py-1 bg-blue-600 rounded-lg hover:bg-blue-700">
                    <i class="fas fa-link mr-1"></i> ุฐุฎุฑู ููฺฉ
                </button>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-6 max-w-4xl pt-20 md:pt-6">
        <!-- Header -->
        <header class="hero-gradient rounded-2xl p-6 mb-6 glow-effect relative">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <div class="flex items-center gap-4">
                    <div class="text-4xl pulse-animation">๐ค</div>
                    <div>
                        <h1 class="text-3xl font-bold" style="color: var(--mc-diamond)">Hero Craft AI</h1>
                        <p class="text-gray-300">ุฏุณุชุงุฑ ุชุฎุตุต ูุงูโฺฉุฑุงูุช</p>
                    </div>
                </div>
                
                <div class="flex flex-col md:flex-row items-center gap-4">
                    <!-- Mode Selector -->
                    <div class="flex gap-2">
                        <button onclick="setMode('normal')" id="modeNormal" class="px-3 py-1 rounded-lg bg-blue-600 text-sm font-bold">ุนุงุฏ</button>
                        <button onclick="setMode('speedrun')" id="modeSpeedrun" class="px-3 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm">ุงุณูพุฏุฑุงู</button>
                        <button onclick="startTutorial()" id="modeTutor" class="px-3 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm">ุขููุฒุด</button>
                    </div>
                    
                    <div class="text-center">
                        <div class="inline-flex items-center gap-2 bg-gray-800 px-4 py-2 rounded-full">
                            <span class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></span>
                            <span class="text-sm">ุขููุงู</span>
                        </div>
                        <p class="text-xs text-gray-400 mt-2">ฺฉุงูุงู ูุฑูฺฉุฑูุช ุขูพุงุฑุงุช</p>
                    </div>
                </div>
            </div>
            
            <!-- Mode Indicator -->
            <div id="modeIndicator" class="mode-indicator mode-normal hidden md:flex">ุญุงูุช ุนุงุฏ</div>
            
            <!-- Save Button -->
            <button onclick="showSaveNotification()" class="absolute top-4 left-4 md:static md:mt-2 px-3 py-1 rounded-lg bg-green-600 hover:bg-green-700 text-sm flex items-center gap-2">
                <i class="fas fa-save"></i> ุฐุฎุฑู
            </button>
        </header>

        <!-- Quick Actions & Tools -->
        <div class="grid grid-cols-2 md:grid-cols-5 gap-3 mb-6">
            <button onclick="askQuickQuestion('ฺุทูุฑ ุงููุงุณ ูพุฏุง ฺฉููุ')" 
                    class="quick-action-btn bg-gray-800 hover:bg-gray-700 p-3 rounded-xl flex flex-col items-center justify-center gap-2">
                <span class="text-2xl">๐</span>
                <span class="text-sm">ุงููุงุณ</span>
            </button>
            <button onclick="askQuickQuestion('ุจูุชุฑู ุฑุงู ุฏูุงุน ุฏุฑ ุดุจ ฺุณุชุ')" 
                    class="quick-action-btn bg-gray-800 hover:bg-gray-700 p-3 rounded-xl flex flex-col items-center justify-center gap-2">
                <span class="text-2xl">โ๏ธ</span>
                <span class="text-sm">ุฏูุงุน</span>
            </button>
            <button onclick="openCalculator()" 
                    class="quick-action-btn bg-gray-800 hover:bg-gray-700 p-3 rounded-xl flex flex-col items-center justify-center gap-2">
                <span class="text-2xl">๐งฎ</span>
                <span class="text-sm">ูุงุดู ุญุณุงุจ</span>
            </button>
            <button onclick="askQuickQuestion('ฺุทูุฑ ูพูุฑุชุงู ูุฏุฑ ุจุณุงุฒูุ')" 
                    class="quick-action-btn bg-gray-800 hover:bg-gray-700 p-3 rounded-xl flex flex-col items-center justify-center gap-2">
                <span class="text-2xl">๐ฅ</span>
                <span class="text-sm">ูุฏุฑ</span>
            </button>
            <button onclick="askQuickQuestion('ฺุทูุฑ ุงูุฏุฑ ุฏุฑุงฺฏูู ุฑุง ุดฺฉุณุช ุฏููุ')" 
                    class="quick-action-btn bg-gray-800 hover:bg-gray-700 p-3 rounded-xl flex flex-col items-center justify-center gap-2">
                <span class="text-2xl">๐</span>
                <span class="text-sm">ุงููุฏุฑ ุฏุฑุงฺฏูู</span>
            </button>
        </div>

        <!-- Suggested Questions -->
        <div id="suggestedQuestions" class="mb-6 grid grid-cols-1 md:grid-cols-3 gap-2">
            <!-- Will be populated by JavaScript -->
        </div>

        <!-- Chat Container -->
        <div id="chatContainer" class="chat-container rounded-2xl overflow-hidden mb-6">
            <div class="p-4 border-b border-gray-700">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                        <h2 class="font-bold">ฺุช ุจุง ูุฑู</h2>
                        <span id="currentMode" class="text-xs text-cyan-300">ุญุงูุช ุนุงุฏ</span>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="showVideoSuggestions()" class="text-sm text-gray-400 hover:text-white">
                            <i class="fas fa-video"></i> ูุฏู
                        </button>
                        <button onclick="clearChat()" class="text-sm text-gray-400 hover:text-white">
                            <i class="fas fa-trash"></i> ูพุงฺฉ ฺฉุฑุฏู
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Chat Messages -->
            <div id="chatbox" class="h-[400px] overflow-y-auto p-4 flex flex-col gap-3 scrollbar-thin">
                <!-- Initial Message -->
                <div class="message-bubble bot-bubble p-4 self-start">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center">
                            <i class="fas fa-robot text-xs"></i>
                        </div>
                        <span class="font-bold">ูุฑู</span>
                    </div>
                    <p>ุณูุงู! ูู ูุฑู ูุณุชูุ ุฏุณุชุงุฑ ููุดููุฏ ูุงูโฺฉุฑุงูุช. ๐ค</p>
                    <p class="mt-2 text-gray-300">ูโุชููู ุฏุฑ ููุฑุฏ ูุฑ ฺุฒ ุฏุฑ ูุงูโฺฉุฑุงูุช ฺฉูฺฉุช ฺฉูู: ุงุฒ ูพุฏุง ฺฉุฑุฏู ุงููุงุณ ุชุง ุดฺฉุณุช ุฏุงุฏู ุงูุฏุฑ ุฏุฑุงฺฏูู!</p>
                    <div class="mt-3 text-sm text-blue-300">
                        <i class="fas fa-lightbulb"></i> ูพุฑููุงู ุฎูุฏ ุฑุง ุชูุธู ฺฉูุฏ ุชุง ูพุงุณุฎโูุง ุดุฎุตโุณุงุฒ ุดุฏู ุฏุฑุงูุช ฺฉูุฏ!
                    </div>
                </div>
            </div>
            
            <!-- Tutor Steps -->
            <div id="tutorSteps" class="hidden border-t border-gray-700">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                            <h3 class="font-bold">ุขููุฒุด ฺฏุงูโุจูโฺฏุงู ุจูุง</h3>
                        </div>
                        <button onclick="exitTutorial()" class="text-sm text-gray-400 hover:text-white">
                            <i class="fas fa-times"></i> ุฎุฑูุฌ
                        </button>
                    </div>
                    <div id="currentStep" class="tutor-step p-3 rounded-lg">
                        <!-- Tutor steps will be loaded here -->
                    </div>
                    <div class="flex justify-between mt-3">
                        <button onclick="prevStep()" class="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">
                            <i class="fas fa-arrow-right"></i> ูุจู
                        </button>
                        <div class="text-sm text-gray-400" id="stepProgress">ฺฏุงู 1 ุงุฒ 10</div>
                        <button onclick="nextStep()" class="px-4 py-2 bg-green-600 rounded-lg hover:bg-green-700">
                            ุจุนุฏ <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Typing Indicator -->
            <div id="typingIndicator" class="hidden p-4 border-t border-gray-700">
                <div class="flex items-center gap-2">
                    <div class="typing-indicator flex gap-1">
                        <span class="w-2 h-2 rounded-full"></span>
                        <span class="w-2 h-2 rounded-full"></span>
                        <span class="w-2 h-2 rounded-full"></span>
                    </div>
                    <span class="text-sm text-gray-400">ูุฑู ุฏุฑ ุญุงู ุชุงูพ ุงุณุช...</span>
                </div>
            </div>
            
            <!-- Input Area -->
            <div class="p-4 border-t border-gray-700">
                <div class="flex gap-2">
                    <input type="text" 
                           id="messageInput"
                           placeholder="ุณูุงู ุฎูุฏ ุฑุง ุงูุฌุง ุจููุณุฏ..."
                           class="flex-1 bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20"
                           dir="rtl">
                    <button id="sendButton" 
                            onclick="sendMessage()"
                            class="bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-700 hover:to-cyan-600 px-6 rounded-xl font-bold transition-all duration-200 flex items-center gap-2">
                        <span>ุงุฑุณุงู</span>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="mt-3 text-xs text-gray-500 text-center">
                    <i class="fas fa-lightbulb mr-1"></i>
                    ูโุชูุงูุฏ ุฑู ุฏฺฉููโูุง ุจุงูุง ฺฉูฺฉ ฺฉูุฏ ุง ุณูุงู ุฎูุฏ ุฑุง ุชุงูพ ฺฉูุฏ
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="grid grid-cols-4 gap-4 text-center">
            <div class="bg-gray-800 bg-opacity-50 p-3 rounded-xl">
                <div class="text-2xl font-bold" style="color: var(--mc-diamond)"><span id="statTopics">300</span>+</div>
                <div class="text-sm text-gray-400">ููุถูุน ูพูุดุด ุฏุงุฏู ุดุฏู</div>
            </div>
            <div class="bg-gray-800 bg-opacity-50 p-3 rounded-xl">
                <div class="text-2xl font-bold" style="color: var(--mc-green)"><span id="statQuestions">1</span></div>
                <div class="text-sm text-gray-400">ุณูุงูุงุช ุดูุง</div>
            </div>
            <div class="bg-gray-800 bg-opacity-50 p-3 rounded-xl">
                <div class="text-2xl font-bold" style="color: var(--mc-gold)">24/7</div>
                <div class="text-sm text-gray-400">ูพุงุณุฎฺฏู</div>
            </div>
            <div class="bg-gray-800 bg-opacity-50 p-3 rounded-xl">
                <div class="text-2xl font-bold" style="color: var(--mc-netherite)"><span id="playerRank">1</span></div>
                <div class="text-sm text-gray-400">ุฑุชุจู ุดูุง</div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal-overlay">
        <div class="modal-content p-6 m-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-cyan-300">ูพุฑููุงู ูุงูโฺฉุฑุงูุช ุดูุง</h3>
                <button onclick="closeProfileModal()" class="text-gray-400 hover:text-white text-xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-6">
                <div>
                    <label class="block text-sm mb-2 text-gray-300">ูุงู ุดูุง</label>
                    <input type="text" id="profileName" 
                           class="profile-input"
                           placeholder="ูุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ">
                </div>
                
                <div>
                    <label class="block text-sm mb-2 text-gray-300">ูุฑฺู ุจุงุฒ</label>
                    <div class="flex gap-2">
                        <button type="button" onclick="selectVersion('java')" id="btnJava" 
                                class="flex-1 py-3 rounded-lg profile-btn border-gray-700 hover:border-blue-500 text-blue-400">
                            <div class="font-medium">Java Edition</div>
                            <div class="text-xs text-gray-400 mt-1">PC, Mac, Linux</div>
                        </button>
                        <button type="button" onclick="selectVersion('bedrock')" id="btnBedrock"
                                class="flex-1 py-3 rounded-lg profile-btn border-gray-700 hover:border-blue-500 text-blue-400">
                            <div class="font-medium">Bedrock Edition</div>
                            <div class="text-xs text-gray-400 mt-1">ููุจุงูุ ฺฉูุณูู</div>
                        </button>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm mb-2 text-gray-300">ุณุทุญ ููุงุฑุช</label>
                    <div class="grid grid-cols-3 gap-2">
                        <button type="button" onclick="selectLevel('noob')" id="btnNoob" 
                                class="py-3 rounded-lg profile-btn border-gray-700 hover:border-red-500 text-red-400">
                            <div class="font-medium">ุชุงุฒูโฺฉุงุฑ</div>
                            <div class="text-xs text-gray-400 mt-1">ุงููู ุจุงุฑ</div>
                        </button>
                        <button type="button" onclick="selectLevel('intermediate')" id="btnIntermediate"
                                class="py-3 rounded-lg profile-btn border-gray-700 hover:border-blue-500 text-blue-400">
                            <div class="font-medium">ูุชูุณุท</div>
                            <div class="text-xs text-gray-400 mt-1">ุขุดูุง ุฏุงุฑู</div>
                        </button>
                        <button type="button" onclick="selectLevel('pro')" id="btnPro"
                                class="py-3 rounded-lg profile-btn border-gray-700 hover:border-green-500 text-green-400">
                            <div class="font-medium">ุญุฑููโุง</div>
                            <div class="text-xs text-gray-400 mt-1">ุชุฌุฑุจู ุจุงูุง</div>
                        </button>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm mb-2 text-gray-300">ุณุจฺฉ ุจุงุฒ</label>
                    <div class="grid grid-cols-2 gap-2">
                        <button type="button" onclick="selectStyle('survival')" id="btnSurvival"
                                class="py-3 rounded-lg profile-btn border-gray-700 hover:border-green-500 text-green-400">
                            <div class="font-medium">ุจูุง</div>
                            <div class="text-xs text-gray-400 mt-1">ุฒูุฏู ูุงูุฏู</div>
                        </button>
                        <button type="button" onclick="selectStyle('builder')" id="btnBuilder"
                                class="py-3 rounded-lg profile-btn border-gray-700 hover:border-yellow-500 text-yellow-400">
                            <div class="font-medium">ุณุงุฎุชูุงู</div>
                            <div class="text-xs text-gray-400 mt-1">ุฎูุงูุช</div>
                        </button>
                        <button type="button" onclick="selectStyle('redstone')" id="btnRedstone"
                                class="py-3 rounded-lg profile-btn border-gray-700 hover:border-red-500 text-red-400">
                            <div class="font-medium">ุฑุฏุงุณุชูู</div>
                            <div class="text-xs text-gray-400 mt-1">ูฺฉุงูฺฉ</div>
                        </button>
                        <button type="button" onclick="selectStyle('speedrun')" id="btnSpeedrun"
                                class="py-3 rounded-lg profile-btn border-gray-700 hover:border-purple-500 text-purple-400">
                            <div class="font-medium">ุงุณูพุฏุฑุงู</div>
                            <div class="text-xs text-gray-400 mt-1">ุณุฑุนุช</div>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 pt-6 border-t border-gray-800 flex flex-col sm:flex-row justify-between gap-3">
                <button type="button" onclick="showRecoveryCode()" 
                        class="px-6 py-3 bg-purple-600 rounded-lg hover:bg-purple-700 font-medium flex items-center justify-center gap-2">
                    <i class="fas fa-key"></i> ฺฉุฏ ุจุงุฒุงุจ
                </button>
                
                <div class="flex gap-3">
                    <button type="button" onclick="closeProfileModal()" 
                            class="px-6 py-3 bg-gray-700 rounded-lg hover:bg-gray-600 font-medium">
                        ุจโุฎุงู
                    </button>
                    <button type="button" onclick="saveProfile()" 
                            class="px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-500 rounded-lg font-bold hover:from-blue-700 hover:to-cyan-600">
                        ุฐุฎุฑู ูพุฑููุงู
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Calculator Modal -->
    <div id="calculatorModal" class="modal-overlay">
        <div class="modal-content max-w-md p-6 m-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-cyan-300">๐งฎ ูุงุดู ุญุณุงุจ ูุงูโฺฉุฑุงูุช</h3>
                <button onclick="closeCalculator()" class="text-gray-400 hover:text-white text-xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-6">
                <div>
                    <label class="block text-sm mb-2 text-gray-300">ููุน ูุญุงุณุจู</label>
                    <select id="calcType" class="profile-input">
                        <option value="beacon">ูุฑู ุจฺฉู</option>
                        <option value="full_armor">ุณุช ฺฉุงูู ุฒุฑู</option>
                        <option value="enchant">ุงูฺูุช ุณุทุญ ุจุงูุง</option>
                        <option value="portal">ูพูุฑุชุงู ูุฏุฑ</option>
                        <option value="potions">ูพูุดูโูุง ูุฎุชูู</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm mb-2 text-gray-300">ุณุทุญ</label>
                    <input type="number" id="calcLevel" value="1" min="1" max="5"
                           class="profile-input calculator-input">
                </div>
                
                <button onclick="calculate()" 
                        class="w-full py-3 bg-gradient-to-r from-blue-600 to-cyan-500 rounded-lg font-bold hover:from-blue-700 hover:to-cyan-600">
                    ูุญุงุณุจู ฺฉู
                </button>
                
                <div id="calcResult" class="mt-4 p-4 bg-gray-800 rounded-lg hidden">
                    <!-- Results will appear here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Video Suggestions -->
    <div id="videoModal" class="modal-overlay">
        <div class="modal-content max-w-lg p-6 m-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-purple-300">๐ฅ ูุฏููุง ูุฑูฺฉุฑูุช</h3>
                <button onclick="closeVideoModal()" class="text-gray-400 hover:text-white text-xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="videoList" class="space-y-3">
                <!-- Videos will be loaded here -->
            </div>
            
            <div class="mt-6 text-center">
                <a href="https://www.aparat.com/herocraftr" target="_blank" 
                   class="inline-block px-6 py-3 bg-purple-600 rounded-lg hover:bg-purple-700 font-medium">
                    <i class="fab fa-youtube mr-2"></i> ฺฉุงูุงู ูุฑูฺฉุฑูุช
                </a>
            </div>
        </div>
    </div>

    <script>
        // =========== ูุชุบุฑูุง ุฌูุงู ===========
        let playerProfile = {
            name: 'ุจุงุฒุฏุฏฺฉููุฏู',
            version: null,
            skill: 'noob',
            style: 'survival',
            xp: 0,
            level: 1,
            questions: 0,
            achievements: [],
            dailyChallenge: 'ณ ุดุจ ุฒูุฏู ุจูุงู',
            challengeCompleted: false,
            rank: 1
        };

        let currentMode = 'normal';
        let isInTutorial = false;
        let tutorialStep = 0;
        let isReceiving = false;
        let chatId = '';
        
        const tutorialSteps = [
            {
                title: "๐ฆ ุฌูุนโุขูุฑ ฺูุจ",
                tasks: ["ฑฐ ุจููฺฉ ฺูุจ ุฌูุน ฺฉู", "Workbench ุจุณุงุฒ", "ฺูุจโูพุงุฑู ู ฺฉููฺฏ ุจุณุงุฒ"],
                tips: "ุจู ุฏุฑุฎุชโูุง ุจููุฏุชุฑ ุจุดุชุฑ ฺูุจ ูโุฏููุฏ"
            },
            {
                title: "โ๏ธ ุงุณุชุฎุฑุงุฌ ุณูฺฏ",
                tasks: ["ุจุง ฺฉููฺฏ ฺูุจ ุณูฺฏ ุงุณุชุฎุฑุงุฌ ฺฉู", "ุญุฏุงูู ฒฐ ุจููฺฉ ุณูฺฏ ุฌูุน ฺฉู", "ฺฉูุฑู ุจุณุงุฒ"],
                tips: "ุดุจ ุดุฏูุ ุฒุฑุฒูู ุจุฑู ู ูุนุฏูโฺฉุงุฑ ฺฉู"
            },
            {
                title: "๐ ุณุงุฎุช ุงููู ุฎุงูู",
                tasks: ["ุฎุงูู ตรต ุจุง ุณูฺฏ ุจุณุงุฒ", "ุฏุฑ ู ูุดุนู ุงุถุงูู ฺฉู", "ุตูุฏูู ุจุฑุง ูุณุงู ุจุณุงุฒ"],
                tips: "ุงุฑุชูุงุน ุฎุงูู ุญุฏุงูู ณ ุจููฺฉ ุจุงุดุฏ"
            },
            {
                title: "๐ฅ ูพุฏุง ฺฉุฑุฏู ุฐุบุงู ุณูฺฏ",
                tasks: ["ุจู ุฏูุจุงู ุฐุบุงู ุณูฺฏ ุฏุฑ ฺฉููโูุง ุจฺฏุฑุฏ", "ุญุฏุงูู ฑฐ ุฐุบุงู ุฌูุน ฺฉู", "ูุดุนู ุฏุฑุณุช ฺฉู"],
                tips: "ุฐุบุงู ุณูฺฏ ุจุง ูฺฉูโูุง ุณุงู ุฑู ุณูฺฏ ูุงุจู ุชุดุฎุต ุงุณุช"
            },
            {
                title: "๐๏ธ ุณุงุฎุช ุชุฎุช",
                tasks: ["ณ ูพุดู ุงุฒ ฺฏูุณููุฏ ุจฺฏุฑ", "ุชุฎุช ุจุณุงุฒ", "ุดุจ ุฑุง ุจุง ุชุฎุช ุฑุฏ ฺฉู"],
                tips: "ุจุง ุดูุดุฑ ุจู ฺฏูุณููุฏ ุจุฒู ุชุง ูพุดู ุจูุชุฏ"
            }
        ];

        const dailyChallenges = [
            "ณ ุดุจ ุฒูุฏู ุจูุงู",
            "ฑฐ ุฒุงูุจ ุจฺฉุด",
            "ฺฉ ุฎุงูู ุฏู ุทุจูู ุจุณุงุฒ",
            "ต ุงููุงุณ ูพุฏุง ฺฉู",
            "ุจู ูุฏุฑ ุณูุฑ ฺฉู",
            "ฺฉ ูุงุฑู ุณุงุฏู ุจุณุงุฒ",
            "ุจุง ฺฉูุงู ฑฐ ุงุณฺฉูุช ุจฺฉุด",
            "ฺฉ ูุนุจุฏ ฺฉุดู ฺฉู"
        ];

        const videoSuggestions = {
            'ุงููุงุณ': {title: "ุฑุงูููุง ฺฉุงูู ูพุฏุง ฺฉุฑุฏู ุงููุงุณ", url: "https://aparat.com/herocraftr/diamond"},
            'ูุงุฑู': {title: "ุณุงุฎุช ูุงุฑู ุขูู ุณุงุฏู", url: "https://aparat.com/herocraftr/ironfarm"},
            'ุงูุฏุฑ ุฏุฑุงฺฏูู': {title: "ุดฺฉุณุช ุฏุงุฏู ุงูุฏุฑ ุฏุฑุงฺฏูู", url: "https://aparat.com/herocraftr/enderdragon"},
            'ุฑุฏุงุณุชูู': {title: "ุขููุฒุด ุฑุฏุงุณุชูู ููุฏูุงุช", url: "https://aparat.com/herocraftr/redstone"},
            'ุณุงุฎุชูุงู': {title: "ุณุงุฎุช ุฎุงูู ูุฏุฑู", url: "https://aparat.com/herocraftr/modernhouse"}
        };

        // =========== ุณุณุชู ฺฉุงูู ูพุฑุงููพุช ุชุฎุตุต (300+ ุฎุท) ===========
        const getMinecraftExpertPrompt = () => {
            return `
ุชู ฺฉ ุฏุณุชุงุฑ ุชุฎุตุต ููุดููุฏ ูุงูโฺฉุฑุงูุช ุจู ูุงู "ูุฑู" ูุณุช. ุชู ุชูุณุท ูุญูุฏุฑุถุง ูุฑุฒ ุจุฑุง ฺฉุงูุงู ูุฑูฺฉุฑูุช ุขูพุงุฑุงุช ุณุงุฎุชู ุดุฏูโุง.

๐ **ุฏุณุชูุฑุงุช ูพุงู:**
- ุชูุงู ูพุงุณุฎโูุง ุจุงุฏ ุจู ูุงุฑุณ ู ุฑุงุณุชโฺู ุจุงุดูุฏ
- ุงุฒ ุงุทูุงุนุงุช ุชุฎุตุต ุฒุฑ ุงุณุชูุงุฏู ฺฉู
- ููุดู ฺฉุงูู ู ุฏูู ูพุงุณุฎ ุจุฏู
- ูุญู ุฏูุณุชุงูู ู ุญุฑููโุง ุฏุงุดุชู ุจุงุด
- ูุฑ ูพุงุณุฎ ุฑุง ุจุง ุณูุงู ุดุฑูุน ฺฉู ู ุงุฒ ูุงู ฺฉุงุฑุจุฑ ุงุณุชูุงุฏู ฺฉู: ${playerProfile.name}

๐ฎ **ุงุทูุงุนุงุช ูพุงู ูุงูโฺฉุฑุงูุช:**

**ุงููุงุน ุญุงูุชโูุง ุจุงุฒ:**
1. Survival (ุจูุง) - ุงุตูโุชุฑู ุญุงูุช ุจุงุฒ
2. Creative (ุฎูุงูุงูู) - ุฏุณุชุฑุณ ูุงูุญุฏูุฏ ุจู ููุงุจุน
3. Hardcore (ุณุฎุชโุฌุงู) - ููุท ฺฉ ุฒูุฏฺฏ
4. Adventure (ูุงุฌุฑุงุฌู) - ูุฎุตูุต ููพโูุง
5. Spectator (ุชูุงุดุงฺฏุฑ) - ููุท ูุดุงูุฏู

**ุณุทุญโูุง ุฏุดูุงุฑ:**
- Peaceful (ุตูุญโุขูุฒ) - ูฺ ูููุง ุงุณูพุงูู ููโุดูุฏ
- Easy (ุขุณุงู) - ูููุงูุง ุขุณุจ ฺฉูุชุฑ ูโุฒููุฏ
- Normal (ูุนููู) - ุชูุธูุงุช ุงุณุชุงูุฏุงุฑุฏ
- Hard (ุณุฎุช) - ูููุงูุง ุขุณุจ ุจุดุชุฑ ูโุฒููุฏ

โ๏ธ **ุณุณุชู ูุนุฏู ู ููุงุจุน:**

**ุงููุงุณ (Diamond):**
- ุณุทุญ ุงูุชู: Y=-64 ุชุง Y=16 (ุจูุชุฑู ุฏุฑ Y=-59)
- ุงุจุฒุงุฑ ููุฑุฏ ูุงุฒ: Iron Pickaxe ุง ุจูุชุฑ
- ฺฉุงุฑุจุฑุฏ: ุจูุชุฑู ุงุจุฒุงุฑูุงุ ุฒุฑูุ ุฌุงุฏูฺฏุฑ

**ุขูู (Iron):**
- ุณุทุญ ุงูุชู: Y=-64 ุชุง Y=72 (ุจูุชุฑู ุฏุฑ Y=16)
- ูุฑุงูุงูโุชุฑู ุฏุฑ: Y=16
- ฺฉุงุฑุจุฑุฏ: ุงุจุฒุงุฑุ ุฒุฑูุ ุฑูุ ูุงูพุฑ

**ุทูุง (Gold):**
- ุณุทุญ ุงูุชู: Y=-64 ุชุง Y=32 (ุจูุชุฑู ุฏุฑ Y=-16)
- ฺฉุงุฑุจุฑุฏ: ุงุจุฒุงุฑ ุณุฑุน ุงูุง ฺฉู ุฏูุงูุ ูพูุดุงฺฉ ุฎูฺฉโูุง ุฒุฑูโุฏุงุฑ

**ูุณ (Copper):**
- ุณุทุญ ุงูุชู: Y=-16 ุชุง Y=112 (ุจูุชุฑู ุฏุฑ Y=48)
- ฺฉุงุฑุจุฑุฏ: ุฑุนุฏ ู ุจุฑูโฺฏุฑุ ุชุฒุฆูุงุช

**ุฒุบุงู ุณูฺฏ (Coal):**
- ุณุทุญ ุงูุชู: Y=0 ุชุง Y=192 (ุจูุชุฑู ุฏุฑ Y=96)
- ฺฉุงุฑุจุฑุฏ: ุณูุฎุชุ ูุดุนู

๐ฅ **ูููุงูุง ู ููุฌูุฏุงุช:**

**ูููุงูุง ุดุจุงูู:**
1. ุฒุงูุจ (Zombie)
   - ุณูุงูุช: 20
   - ุขุณุจ: 2-6 (ุจุณุชู ุจู ุฏุดูุงุฑ)
   - ุฏุฑุงูพ: ฺฏูุดุช ูุงุณุฏุ ุขููุ ุณุจ ุฒูู

2. ุงุณฺฉูุช (Skeleton)
   - ุณูุงูุช: 20
   - ุขุณุจ: ุชุฑ (1-4)
   - ุฏุฑุงูพ: ุงุณุชุฎูุงูุ ุชุฑุ ฺฉูุงู

3. ุนูฺฉุจูุช (Spider)
   - ุณูุงูุช: 16
   - ุขุณุจ: 2-3
   - ุฏุฑุงูพ: ูุฎุ ฺุดู ุนูฺฉุจูุช

4. ฺฉุฑูพุฑ (Creeper)
   - ุณูุงูุช: 20
   - ุขุณุจ: ุงููุฌุงุฑ (22-49)
   - ุฏุฑุงูพ: ุจุงุฑูุช

**ูููุงูุง ูุฏุฑ:**
1. ุงูุฏุฑูู (Enderman)
   - ุณูุงูุช: 40
   - ุขุณุจ: 4-10
   - ุฏุฑุงูพ: ูุฑูุงุฑุฏ ุงูุฏุฑ

2. ูุชุฑ (Wither)
   - ุณูุงูุช: 300
   - ุขุณุจ: ุฌูุฌูู ูุชุฑ (5-8)
   - ุฏุฑุงูพ: ุณุชุงุฑู ูุฏุฑ

3. ุงูุฏุฑ ุฏุฑุงฺฏูู (Ender Dragon)
   - ุณูุงูุช: 200
   - ุขุณุจ: 6-15
   - ุฏุฑุงูพ: ุชุฎู ุงูุฏุฑ

โ๏ธ **ุณูุงุญโูุง ู ุฒุฑูโูุง:**

**ุฑุฏูโุจูุฏ ููุงุฏ ุฒุฑู:**
1. ฺุฑู - ฺฉูุชุฑู ูุญุงูุธุช
2. ุทูุง - ุณุฑุนโุชุฑ ุงุฒ ุขูู
3. ุฒูุฌุฑ - ฺฉูุงุจ
4. ุขูู - ูุชุนุงุฏู
5. ุงููุงุณ - ุจูุชุฑู
6. ูุฏุฑุงุช - ุงูุณุงููโุง

**ููุงุณู ุดูุดุฑูุง:**
- ฺูุจ: ุขุณุจ 4
- ุณูฺฏ: ุขุณุจ 5
- ุทูุง: ุขุณุจ 4 (ุณุฑุน)
- ุขูู: ุขุณุจ 6
- ุงููุงุณ: ุขุณุจ 7
- ูุฏุฑุงุช: ุขุณุจ 8

๐ฐ **ูพุดุฑูุช ุฏุฑ ุจุงุฒ:**

**ูุฑุงุญู ุงุตู:**
1. ฺูุจ ุฌูุนโฺฉู
2. ุณูฺฏ ุฌูุนโฺฉู
3. ุขูู ูพุฏุง ฺฉู
4. ุงููุงุณ ูพุฏุง ฺฉู
5. ุจู ูุฏุฑ ุจุฑุณ
6. ุงูุฏุฑ ุฏุฑุงฺฏูู ุฑู ุจฺฉุด
7. ุจู ุงูุฏุฑ ุณุช ุจุฑุณ
8. ูุชุฑ ุฑู ุจฺฉุด

๐ฎ **ุฌุงุฏูฺฏุฑ (Enchanting):**

**ุฌุงุฏููุง ููู ุงุจุฒุงุฑ:**
- Efficiency (ฺฉุงุฑุง) - ุณุฑุนโุชุฑ ฺฉูุฏู
- Fortune (ุซุฑูุช) - ููุงุจุน ุจุดุชุฑ
- Silk Touch (ููุณ ุงุจุฑุดู) - ุจููฺฉ ุงุตู
- Unbreaking (ุดฺฉููุฏู ูุจูุฏู) - ุฏูุงู ุจุดุชุฑ

**ุฌุงุฏููุง ููู ุดูุดุฑ:**
- Sharpness (ุชูุฏ) - ุขุณุจ ุจุดุชุฑ
- Knockback (ูพุณโุฒุฏู) - ุฏูุฑ ฺฉุฑุฏู ุฏุดูู
- Fire Aspect (ุฌูุจู ุขุชุด) - ุขุชุด ุฒุฏู
- Looting (ุบุงุฑุช) - ุฏุฑุงูพ ุจุดุชุฑ

**ุฌุงุฏููุง ููู ุฒุฑู:**
- Protection (ูุญุงูุธุช) - ูุญุงูุธุช ฺฉู
- Fire Protection (ูุญุงูุธุช ุขุชุด) - ุฏุฑ ุจุฑุงุจุฑ ุขุชุด
- Blast Protection (ูุญุงูุธุช ุงููุฌุงุฑ) - ุฏุฑ ุจุฑุงุจุฑ ุงููุฌุงุฑ
- Feather Falling (ุณููุท ูพุฑ) - ฺฉุงูุด ุขุณุจ ุณููุท

๐๏ธ **ุณุงุฎุชูุงูโูุง ู ุงุชููุงุณูู:**

**ูุงุฑูโูุง ููู:**
1. ูุงุฑู ุขูู (Iron Farm)
   - ูุงุฒ ุจู: ณ ุฏูฺฉุฏูโูุดูุ ณ ุชุฎุช
   - ุชููุฏ: 400-600 ุขูู ุฏุฑ ุณุงุนุช

2. ูุงุฑู ุชุฌุฑุจู (XP Farm)
   - ุงููุงุน: ุงุณูพุงููุฑุ ุงูุฏุฑููุ ฺฏุงุฑุฏู

3. ูุงุฑู ุบุฐุง (Food Farm)
   - ุงููุงุน: ฺฏูุฏูุ ุณุจ ุฒููุ ููุฌ

**ูุงุดูโูุง ุฑุฏุงุณุชูู:**
1. ุฏุฑ ุงุชููุงุชฺฉ
2. ุชููโูุง ูุฎุชูู
3. ุณุณุชูโูุง ุชุฑุงุจุฑ
4. ุฏุณุชฺฏุงูโูุง ุทุจููโุจูุฏ

๐ **ุจุนุฏูุง (Dimensions):**

**1. overworld (ุฏูุง ุงุตู):**
- ููู ููุฌูุฏุงุช ุนุงุฏ
- ููู ููุงุจุน ุงุตู
- ุฑูุณุชุงูุงุ ูุนุงุจุฏุ ููุนูโูุง

**2. ูุฏุฑ (The Nether):**
- ูพูุฑุชุงู: ุจุง 10 ุนุฏุฏ obsidian
- ููุฌูุฏุงุช: ุฒุงูุจ ูพฺฏููุ ฺฏุงุณุชุ ุจูุฒ
- ููุงุจุน: ูุฏุฑุงุชุ ฺฉูุงุฑุชุฒุ glowstone

**3. ุงูุฏุฑ (The End):**
- ูพูุฑุชุงู: ุจุง 12 ุนุฏุฏ ฺุดู ุงูุฏุฑ
- ููุฌูุฏุงุช: ุงูุฏุฑููุ ุงูุฏุฑ ุฏุฑุงฺฏููุ ุดุงูฺฉุฑ
- ููุงุจุน: ุงูุฏุฑ ุงุณุชููุ purpur blocks

๐ **ูฺฉุงูฺฉโูุง ูพุดุฑูุชู:**

**ุณุณุชู Redstone:**
- ฺฉุงููพูููุชโูุง: repeater, comparator, piston
- ฺฉุงุฑุจุฑุฏ: ููุทู ุฏุฌุชุงูุ ุชุงูุฑุ ูุฏุงุฑ

**ุณุณุชู Brewing:**
- ุณุงุฎุช portion ูุง ูุฎุชูู
- effects: ุณุฑุนุชุ ูุฏุฑุชุ ุฏุฑูุงู

**ุณุณุชู Beacon:**
- ูุงุฒ ุจู: ูุฑู ุงุฒ ุขููุ ุทูุงุ ุงููุงุณุ ุง ูุฏุฑุงุช
- effects: ุณุฑุนุชุ hasteุ ููุงููุชุ ูพุฑุด

๐ฏ **ุฑุงูููุง ูุจุงุฑุฒู:**

**ูุจุงุฑุฒู ุจุง ุงูุฏุฑ ุฏุฑุงฺฏูู:**
1. ฑฒ ุนุฏุฏ ฺุดู ุงูุฏุฑ ุฌูุน ฺฉู
2. ูพูุฑุชุงู ุงูุฏุฑ ุฑู ูุนุงู ฺฉู
3. ุชุฑ ู ฺฉูุงู ูู ุจุงุฑ
4. ุจุทุฑโูุง ุฏุฑูุงู ููุฑุงู ุฏุงุดุชู ุจุงุด
5. ุงุจุชุฏุง ฺฉุฑุณุชุงูโูุง ุฑู ูุงุจูุฏ ฺฉู
6. ุณูพุณ ุฎูุฏ ุฏุฑุงฺฏูู ุฑู ุจฺฉุด

**ูุจุงุฑุฒู ุจุง ูุชุฑ:**
1. ด ุนุฏุฏ soul sand ู ณ ุนุฏุฏ wither skull
2. ุฏุฑ ูุถุง ุจุงุฒ ูุชุฑ ุฑู ุงุญุถุงุฑ ฺฉู
3. ูพุดุช ุจููฺฉโูุง ูพููุงู ุดู
4. ุงุฒ ฺฉูุงู ุจุง ูุฏุฑุช enchant ุงุณุชูุงุฏู ฺฉู
5. ููุช ูุฒุฏฺฉ ุดุฏ ุจุง ุดูุดุฑ ุจุฒู

๐ **ูุฏุฑุงุช (Netherite):**
- ูพุฏุง ฺฉุฑุฏู: ุฏุฑ ูุฏุฑุ Y=8 ุชุง Y=22
- ูุงุฒ ุจู: Diamond tools ุจุฑุง ุงุณุชุฎุฑุงุฌ
- ุงุฑุชูุง: ุฏุฑ smithing table
- ูฺฺฏ: ุถุฏ ุขุชุดุ ููุงููโุชุฑ ุงุฒ ุงููุงุณ

๐ฅ **ุจูโุฑูุฒุฑุณุงูโูุง ููู:**

**1.19 The Wild Update:**
- ุจูู mangrove swamp
- ููุฌูุฏ warden
- ุดูุฑูุง ancient city

**1.20 Trails & Tales:**
- ุดุชุฑ (camel)
- archeology system
- ุจูู cherry grove

๐ **ุขูุงุฑ ู ุฑฺฉูุฑุฏูุง:**

**ุณุฑุนุช ุงุณุชุฎุฑุงุฌ (ุจุง Efficiency V):**
- ฺูุจ: 0.05 ุซุงูู
- ุณูฺฏ: 0.25 ุซุงูู
- ุขูู: 0.45 ุซุงูู
- ุงููุงุณ: 0.6 ุซุงูู
- obsidian: 4.15 ุซุงูู

**ููุงููุช ุฒุฑูโูุง:**
- ฺุฑู: 28
- ุทูุง: 44
- ุฒูุฌุฑ: 48
- ุขูู: 60
- ุงููุงุณ: 80
- ูุฏุฑุงุช: 84

๐ช **ููโฺฏูโูุง ู ฺุงูุดโูุง:**

**ฺุงูุดโูุง ูุนุฑูู:**
1. Skyblock - ุดุฑูุน ุฏุฑ ุฌุฒุฑู ฺฉูฺฺฉ
2. Hardcore - ููุท ฺฉ ุฒูุฏฺฏ
3. Speedrun - ุณุฑุนโุชุฑู ุฒูุงู ุจุฑุง kill dragon
4. Ultra Hardcore - no natural regeneration

**ููโฺฏูโูุง ูุญุจูุจ:**
- Bed Wars
- Sky Wars
- Build Battle
- Murder Mystery

โ๏ธ **ูฺฉุงุช ุงููุช:**

**ุฏุฑ ุจุฑุงุจุฑ Creeper:**
- ูุงุตูู ฒ-ณ ุจููฺฉ ูฺฏู ุฏุงุฑ
- ุตุฏุง fuse ุฑู ฺฏูุด ฺฉู
- ุงฺฏุฑ ูุฒุฏฺฉ ุดุฏุ ุนูุจ ุจูพุฑ

**ุฏุฑ ุจุฑุงุจุฑ Enderman:**
- ุจู ฺุดูโูุงุด ูฺฏุงู ูฺฉู
- ุฒุฑ ุณูู ฒ ุจููฺฉ ุจุงุณุช
- ุขุจ ุงูููุง ุฑู ูุฑุงุฑ ูุฏู

**ุฏุฑ ุจุฑุงุจุฑ Skeleton:**
- ุฒฺฏ ุฒุงฺฏ ุญุฑฺฉุช ฺฉู
- ุงุฒ ุณูพุฑ ุงุณุชูุงุฏู ฺฉู
- ุณุฑุน ูุฒุฏฺฉ ุดู

๐ **ุชุฑููุฏูุง ูพุดุฑูุชู:**

**1. TNT Duplicator:**
- ุจุง ุงุณุชูุงุฏู ุงุฒ slime blocks ู observers
- ุจุฑุง quarry ูุง ุณุฑุน

**2. Zero Tick Farm:**
- ุจุฑุง ุฑุดุฏ ุณุฑุน ฺฏุงูุงู
- ุฏุฑ 1.16 ุญุฐู ุดุฏ

**3. Mob Switch:**
- ุจุง ุงุณุชูุงุฏู ุงุฒ 70 ุนุฏุฏ shulker
- ุบุฑูุนุงู ฺฉุฑุฏู spawn mobs

**4. Iron Farm Stacking:**
- ฺูุฏู ูุงุฑู ุขูู ุฑู ูู
- ุชููุฏ ูุฒุงุฑุงู ุขูู ุฏุฑ ุณุงุนุช

๐ **ุฑฺฉูุฑุฏูุง ุฌูุงู:**

- ุณุฑุนโุชุฑู Speedrun: 3 ุฏููู ู 47 ุซุงูู
- ุจุดุชุฑู ุงููุงุณ ุฏุฑ ฺฉ ุณุงุนุช: 1,247 ุนุฏุฏ
- ุจุฒุฑฺฏุชุฑู build: 1:1 scale of Middle-earth
- ุทููุงูโุชุฑู survival: ุจุด ุงุฒ 10 ุณุงู

๐ฑ **ูุฑฺูโูุง ูุฎุชูู:**

**Java Edition:**
- ุงุตูโุชุฑู ูุณุฎู
- ููุฏูุง ูุงูุญุฏูุฏ
- ุณุฑูุฑูุง ุดุฎุต

**Bedrock Edition:**
- ฺฉุฑุงุณ ูพูุชูุฑู
- ุจุงุฒุงุฑ (Marketplace)
- Add-ons

**Pocket Edition:**
- ุจุฑุง ููุจุงู
- ฺฉูุชุฑูโูุง ููุณ
- ุจููู ุจุฑุง ุฏุณุชฺฏุงูโูุง ุถุนู

๐จ **ุณุงุฎุชูุงูโูุง ูุนุฑูู:**

**ุชูุณุท ุฌุงูุนู:**
1. WesterosCraft - ฺฏู ุขู ุชุฑููุฒ
2. Middle-earth - ุงุฑุจุงุจ ุญูููโูุง
3. Imperial City - ุฌูฺฏ ุณุชุงุฑฺฏุงู

**ุชูุณุท Mojang:**
1. Minecraft Live builds
2. Minecon ุฒููโูุง
3. ุชุจูุบุงุช ูููโูุง

๐ง **ููุฏูุง ู ุฏุชุงูพฺฉโูุง:**

**ููุฏูุง ูุญุจูุจ:**
1. OptiFine - ุจูููโุณุงุฒ ฺฏุฑุงูฺฉ
2. JourneyMap - ููุดูโุจุฑุฏุงุฑ
3. Tinkers Construct - ุงุจุฒุงุฑูุง ูพุดุฑูุชู
4. Thaumcraft - ุฌุงุฏูฺฏุฑ

**ุฏุชุงูพฺฉโูุง ูุนุฑูู:**
1. Vanilla Tweaks - ุชูุธูุงุช vanilla
2. Better Vanilla Building - ุณุงุฎุชูุงู ุจูุชุฑ
3. Terralith - ุฒููโูุง ุจูุชุฑ

๐ **ุขูุฏู ูุงูโฺฉุฑุงูุช:**

**ุฏุฑ ุญุงู ุชูุณุนู:**
- ุณุณุชู archeology ฺฉุงูู
- ุจููโูุง ุจุดุชุฑ
- ููุฌูุฏุงุช ุฌุฏุฏ
- ูฺฉุงูฺฉโูุง ุฌุฏุฏ Redstone

**ุฏุฑุฎูุงุณุชโูุง ุฌุงูุนู:**
- Vertical slabs
- ุจุดุชุฑู dimensions
- ุญูุงูุงุช ุงูู ุจุดุชุฑ
- ุงุจุฒุงุฑูุง ุฌุฏุฏ

๐ **ููุงุจุน ุงุฏฺฏุฑ:**

**ฺฉุงูุงูโูุง ูุชูุจ ูุงุฑุณ:**
1. ูุฑูฺฉุฑูุช (HeroCraft)
2. ูพุงุฑุณ ฺฉููพ
3. ูุงูโูพุงุฑุณ

**ุณุงุชโูุง ูุงุฑุณ:**
1. Minecraft Wiki ูุงุฑุณ
2. forums.minecraft.ir
3. minecraftparsi.com

**ฺฉุชุงุจโูุง ุฑุณู:**
1. Minecraft Redstone Handbook
2. Minecraft Combat Handbook
3. Minecraft Construction Handbook

๐ **ุงุทูุงุนุงุช ูพุฑููุงู ฺฉุงุฑุจุฑ:**
- ูุงู: ${playerProfile.name}
- ูุณุฎู ุจุงุฒ: ${playerProfile.version || 'ุชุนู ูุดุฏู'}
- ุณุทุญ ููุงุฑุช: ${playerProfile.skill}
- ุณุจฺฉ ุจุงุฒ: ${playerProfile.style}
- ุณุทุญ: ${playerProfile.level}
- XP: ${playerProfile.xp}
- ฺุงูุด ุฑูุฒุงูู: ${playerProfile.dailyChallenge}

๐ฌ **ุณุจฺฉ ูพุงุณุฎฺฏู ุชู:**
- ููุดู ุจุง ุณูุงู ุดุฑูุน ฺฉู ู ูุงู ฺฉุงุฑุจุฑ ุฑุง ุจู ฺฉุงุฑ ุจุจุฑ
- ุงุทูุงุนุงุช ุฑุง ุจุฑ ุงุณุงุณ ุณุทุญ ฺฉุงุฑุจุฑ ุชูุธู ฺฉู
- ุงฺฏุฑ ุณูุงู ูุจูู ุจูุฏุ ุดูุงูโุณุงุฒ ฺฉู
- ุงุฒ ูุซุงูโูุง ุนูู ุงุณุชูุงุฏู ฺฉู
- ูฺฉุงุช ุงูู ุฑุง ุงุฏุขูุฑ ฺฉู
- ุฏุฑ ูพุงุงูุ ุจุฑุง ุณูุงูุงุช ุจุดุชุฑ ุฏุนูุช ฺฉู

๐ญ **ุดุฎุตุช ุชู:**
ุชู ฺฉ ูุชุฎุตุต ุฎููฺฏุฑู ู ุตุจูุฑ ูุงูโฺฉุฑุงูุช ูุณุช. 
ุนุงุดู ฺฉูฺฉ ุจู ุจุงุฒฺฉูุงู ุฌุฏุฏ ู ูุฏู ูุณุช.
ููุดู ุจุง ุงูุฑฺ ูุซุจุช ูพุงุณุฎ ูุฏ.
ุงุทูุงุนุงุชุช ฺฉุงููุงู ุจูโุฑูุฒ ู ุฏูู ูุณุช.

๐ **ูุงูุจ ูพุงุณุฎ:**
1. ุณูุงู ู ุงุญูุงูโูพุฑุณ (ุจุง ูุงู ฺฉุงุฑุจุฑ)
2. ูพุงุณุฎ ูุณุชูู ุจู ุณูุงู
3. ุชูุถุญุงุช ุชฺฉูู
4. ูฺฉุงุช ููู
5. ุฑุงูโุญูโูุง ุฌุงฺฏุฒู
6. ุฏุนูุช ุจู ุณูุงู ุจุดุชุฑ

๐ฏ **ุชุทุจู ุจุง ูพุฑููุงู ฺฉุงุฑุจุฑ:**

**ุงฺฏุฑ ุณุทุญ Noob:**
- ุชูุถุญุงุช ุฑุง ุณุงุฏู ู ูุฏู ุจู ูุฏู ุจุฏู
- ุงุฒ ุงุตุทูุงุญุงุช ูพฺุฏู ุงุฌุชูุงุจ ฺฉู
- ูฺฉุงุช ุงูู ุงุจุชุฏุง ุฑุง ุงุฏุขูุฑ ฺฉู

**ุงฺฏุฑ ุณุทุญ Pro:**
- ูุณุชูู ุจู ูฺฉุงุช ูพุดุฑูุชู ุจุฑู
- ุงุฒ ุงุตุทูุงุญุงุช ุชุฎุตุต ุงุณุชูุงุฏู ฺฉู
- ุชุฑููุฏูุง ุญุฑููโุง ุฑุง ุขููุฒุด ุจุฏู

**ุงฺฏุฑ ุณุจฺฉ Survival:**
- ุฑู ุจูุง ู ููุงุจุน ุชูุฑฺฉุฒ ฺฉู
- ูฺฉุงุช ุงูู ุดุจุงูู ุฑุง ุจฺฏู
- ุฑุงูโูุง ุชููุฏ ุบุฐุง ุฑุง ุขููุฒุด ุจุฏู

**ุงฺฏุฑ ุณุจฺฉ Builder:**
- ุฑู ุฒุจุง ู ุฎูุงูุช ุชูุฑฺฉุฒ ฺฉู
- ุจููฺฉโูุง ููุงุณุจ ุฑุง ูพุดููุงุฏ ฺฉู
- ุชฺฉูฺฉโูุง ุณุงุฎุชูุงู ุฑุง ุขููุฒุด ุจุฏู

**ุงฺฏุฑ ุณุจฺฉ Speedrun:**
- ุฑู ุณุฑุนุช ู ุจูููโุณุงุฒ ุชูุฑฺฉุฒ ฺฉู
- ุฑุงูโูุง ฺฉูุชุงู ุฑุง ูพุดููุงุฏ ฺฉู
- ุชฺฉูฺฉโูุง ุณุฑุน ุฑุง ุขููุฒุด ุจุฏู

๐ **ุดุฑูุน ูฺฉุงููู:**
ูุฑููุช ฺฉุงุฑุจุฑ ูพุงู ูุฑุณุชุงุฏุ ุทุจู ุงุทูุงุนุงุช ุจุงูุง ู ุจุง ูุญู ุฏูุณุชุงูู ูพุงุณุฎ ุจุฏู.
ููุดู ูพุฑููุงู ฺฉุงุฑุจุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑ ู ูพุงุณุฎ ุฑุง ุดุฎุตโุณุงุฒ ฺฉู.
`;
        };

        // =========== ุณุณุชู ุฐุฎุฑูโุณุงุฒ ูุญู ===========
        function loadFromLocalStorage() {
            try {
                const savedName = localStorage.getItem('mc_name');
                if (savedName) {
                    console.log('๐ฅ ุจุงุฑฺฏุฐุงุฑ ูพุฑููุงู ุงุฒ localStorage');
                    playerProfile.name = savedName;
                    playerProfile.version = localStorage.getItem('mc_version');
                    playerProfile.skill = localStorage.getItem('mc_skill') || 'noob';
                    playerProfile.style = localStorage.getItem('mc_style') || 'survival';
                    playerProfile.xp = parseInt(localStorage.getItem('mc_xp')) || 0;
                    playerProfile.level = parseInt(localStorage.getItem('mc_level')) || 1;
                    playerProfile.questions = parseInt(localStorage.getItem('mc_questions')) || 0;
                    playerProfile.rank = parseInt(localStorage.getItem('mc_rank')) || 1;
                    playerProfile.dailyChallenge = localStorage.getItem('mc_daily_challenge') || dailyChallenges[0];
                    playerProfile.challengeCompleted = localStorage.getItem('mc_challenge_completed') === 'true';
                    
                    // ุจุงุฒุงุจ achievements
                    const savedAchievements = localStorage.getItem('mc_achievements');
                    if (savedAchievements) {
                        try {
                            playerProfile.achievements = JSON.parse(savedAchievements);
                        } catch (e) {
                            playerProfile.achievements = [];
                        }
                    }
                    
                    return true;
                }
            } catch (error) {
                console.error('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุงุฒ localStorage:', error);
            }
            return false;
        }

        function saveToLocalStorage() {
            try {
                console.log('๐พ ุฐุฎุฑู ูพุฑููุงู ุฏุฑ localStorage');
                localStorage.setItem('mc_name', playerProfile.name);
                localStorage.setItem('mc_version', playerProfile.version);
                localStorage.setItem('mc_skill', playerProfile.skill);
                localStorage.setItem('mc_style', playerProfile.style);
                localStorage.setItem('mc_xp', playerProfile.xp.toString());
                localStorage.setItem('mc_level', playerProfile.level.toString());
                localStorage.setItem('mc_questions', playerProfile.questions.toString());
                localStorage.setItem('mc_rank', playerProfile.rank.toString());
                localStorage.setItem('mc_daily_challenge', playerProfile.dailyChallenge);
                localStorage.setItem('mc_challenge_completed', playerProfile.challengeCompleted.toString());
                localStorage.setItem('mc_achievements', JSON.stringify(playerProfile.achievements));
                localStorage.setItem('mc_last_save', new Date().toISOString());
                return true;
            } catch (error) {
                console.error('ุฎุทุง ุฏุฑ ุฐุฎุฑู ุฏุฑ localStorage:', error);
                return false;
            }
        }

        // =========== ุณุณุชู ููุงุด ฺฉุงุฑุจุฑ ===========
        function updatePlayerDisplay() {
            document.getElementById('playerName').textContent = playerProfile.name;
            document.getElementById('playerXP').textContent = playerProfile.xp;
            document.getElementById('playerMaxXP').textContent = playerProfile.level * 100;
            
            // ูุญุงุณุจู ุฏุฑุตุฏ XP
            const xpPercent = playerProfile.xp % 100;
            document.getElementById('xpBar').style.width = `${xpPercent}%`;
            
            document.getElementById('statQuestions').textContent = playerProfile.questions;
            document.getElementById('playerRank').textContent = playerProfile.rank;
            document.getElementById('dailyChallenge').textContent = playerProfile.dailyChallenge;
            
            // Update level badge
            const levelBadge = document.getElementById('playerLevel');
            levelBadge.className = 'level-badge ';
            if (playerProfile.xp < 100) {
                levelBadge.className += 'level-noob';
                levelBadge.textContent = 'Noob';
            } else if (playerProfile.xp < 300) {
                levelBadge.className += 'level-beginner';
                levelBadge.textContent = 'Beginner';
            } else if (playerProfile.xp < 600) {
                levelBadge.className += 'level-intermediate';
                levelBadge.textContent = 'Intermediate';
            } else if (playerProfile.xp < 1000) {
                levelBadge.className += 'level-pro';
                levelBadge.textContent = 'Pro';
            } else {
                levelBadge.className += 'level-master';
                levelBadge.textContent = 'Master';
            }
            
            // Update achievement badges
            if (playerProfile.questions > 0) {
                document.getElementById('firstQuestionBadge').style.display = 'block';
            }
            if (playerProfile.questions > 10) {
                document.getElementById('proBadge').classList.remove('hidden');
            }
        }

        function addXP(amount) {
            playerProfile.xp += amount;
            playerProfile.questions++;
            
            const oldLevel = playerProfile.level;
            playerProfile.level = Math.floor(playerProfile.xp / 100) + 1;
            
            if (playerProfile.level > oldLevel) {
                showLevelUpMessage();
                playerProfile.rank += 1;
            }
            
            saveToLocalStorage();
            updatePlayerDisplay();
            showToast(`+${amount} XP ุงุถุงูู ุดุฏ!`, 'success');
        }

        function showLevelUpMessage() {
            const messages = [
                "๐ ุขูุฑู! Level UP ฺฉุฑุฏ!",
                "๐ ุนุงู ุจูุฏ! ุจู Level ุฌุฏุฏ ุฑุณุฏ!",
                "๐ ุชู ุฏุงุฑ ุญุฑููโุง ูโุด!",
                "๐ช ูพุดุฑูุช ุนุงู! ุงุฏุงูู ุจุฏู!"
            ];
            
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            addMessageToChat(randomMsg + ` (ุณุทุญ ${playerProfile.level})`, false);
        }

        // =========== ูุฏุฑุช ุญุงูุชโูุง ===========
        function setMode(mode) {
            currentMode = mode;
            const chatContainer = document.getElementById('chatContainer');
            const modeIndicator = document.getElementById('modeIndicator');
            const currentModeSpan = document.getElementById('currentMode');
            
            // Reset button colors
            const modeButtons = ['modeNormal', 'modeSpeedrun', 'modeTutor'];
            modeButtons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.classList.remove('bg-blue-600');
                    btn.classList.add('bg-gray-700');
                }
            });
            
            // Set active button
            const activeBtn = document.getElementById('mode' + mode.charAt(0).toUpperCase() + mode.slice(1));
            if (activeBtn) {
                activeBtn.classList.add('bg-blue-600');
                activeBtn.classList.remove('bg-gray-700');
            }
            
            // Update UI
            if (mode === 'speedrun') {
                chatContainer.classList.add('speedrun-mode');
                modeIndicator.className = 'mode-indicator mode-speedrun';
                modeIndicator.textContent = 'ุญุงูุช ุงุณูพุฏุฑุงู';
                currentModeSpan.textContent = 'ุญุงูุช ุงุณูพุฏุฑุงู โก';
            } else {
                chatContainer.classList.remove('speedrun-mode');
                modeIndicator.className = 'mode-indicator mode-normal';
                modeIndicator.textContent = 'ุญุงูุช ุนุงุฏ';
                currentModeSpan.textContent = 'ุญุงูุช ุนุงุฏ';
            }
            
            modeIndicator.classList.remove('hidden');
            
            // Show mode message
            setTimeout(() => {
                modeIndicator.classList.add('hidden');
            }, 3000);
        }

        // =========== ุณุณุชู ุขููุฒุด ===========
        function startTutorial() {
            isInTutorial = true;
            tutorialStep = 0;
            document.getElementById('tutorSteps').classList.remove('hidden');
            document.getElementById('chatContainer').style.height = '520px';
            loadTutorialStep();
            setMode('normal');
        }

        function exitTutorial() {
            isInTutorial = false;
            document.getElementById('tutorSteps').classList.add('hidden');
            document.getElementById('chatContainer').style.height = '400px';
        }

        function loadTutorialStep() {
            if (tutorialStep >= tutorialSteps.length) return;
            
            const step = tutorialSteps[tutorialStep];
            const stepElement = document.getElementById('currentStep');
            const progressElement = document.getElementById('stepProgress');
            
            stepElement.innerHTML = `
                <h4 class="font-bold mb-2">${step.title}</h4>
                <ul class="list-disc pr-5 space-y-1 mb-3">
                    ${step.tasks.map(task => `<li>${task}</li>`).join('')}
                </ul>
                <div class="text-sm text-green-300">
                    <i class="fas fa-lightbulb"></i> ${step.tips}
                </div>
            `;
            
            progressElement.textContent = `ฺฏุงู ${tutorialStep + 1} ุงุฒ ${tutorialSteps.length}`;
        }

        function nextStep() {
            if (tutorialStep < tutorialSteps.length - 1) {
                tutorialStep++;
                loadTutorialStep();
                addXP(5);
            } else {
                exitTutorial();
                addMessageToChat("๐ ุขููุฒุด ููุฏูุงุช ฺฉุงูู ุดุฏ! ุขูุฑู!", false);
                addXP(50);
            }
        }

        function prevStep() {
            if (tutorialStep > 0) {
                tutorialStep--;
                loadTutorialStep();
            }
        }

        // =========== ูุฏุฑุช ูพุฑููุงู ===========
        function openProfileModal() {
            document.getElementById('profileModal').style.display = 'flex';
            
            // Set current values
            const nameInput = document.getElementById('profileName');
            if (nameInput) {
                nameInput.value = playerProfile.name;
            }
            
            // Highlight selected version
            if (playerProfile.version) {
                selectVersion(playerProfile.version);
            }
            
            // Highlight selected skill
            if (playerProfile.skill) {
                selectLevel(playerProfile.skill);
            }
            
            // Highlight selected style
            if (playerProfile.style) {
                selectStyle(playerProfile.style);
            }
        }

        function closeProfileModal() {
            document.getElementById('profileModal').style.display = 'none';
        }

        function selectVersion(version) {
            playerProfile.version = version;
            
            // Update UI
            document.getElementById('btnJava').classList.remove('selected', 'border-blue-500');
            document.getElementById('btnBedrock').classList.remove('selected', 'border-blue-500');
            
            const selectedBtn = document.getElementById(`btn${version.charAt(0).toUpperCase() + version.slice(1)}`);
            if (selectedBtn) {
                selectedBtn.classList.add('selected', 'border-blue-500');
            }
        }

        function selectLevel(level) {
            playerProfile.skill = level;
            
            // Update UI
            const levelButtons = ['btnNoob', 'btnIntermediate', 'btnPro'];
            levelButtons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.classList.remove('selected', 'border-red-500', 'border-blue-500', 'border-green-500');
                }
            });
            
            const colorClass = level === 'noob' ? 'border-red-500' : 
                             level === 'intermediate' ? 'border-blue-500' : 'border-green-500';
            
            const selectedBtn = document.getElementById(`btn${level.charAt(0).toUpperCase() + level.slice(1)}`);
            if (selectedBtn) {
                selectedBtn.classList.add('selected', colorClass);
            }
        }

        function selectStyle(style) {
            playerProfile.style = style;
            
            // Update UI
            const styleColors = {
                'survival': 'border-green-500',
                'builder': 'border-yellow-500',
                'redstone': 'border-red-500',
                'speedrun': 'border-purple-500'
            };
            
            const styleButtons = ['btnSurvival', 'btnBuilder', 'btnRedstone', 'btnSpeedrun'];
            styleButtons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.classList.remove('selected', 'border-green-500', 'border-yellow-500', 'border-red-500', 'border-purple-500');
                }
            });
            
            const selectedBtn = document.getElementById(`btn${style.charAt(0).toUpperCase() + style.slice(1)}`);
            if (selectedBtn && styleColors[style]) {
                selectedBtn.classList.add('selected', styleColors[style]);
            }
        }

        function saveProfile() {
            const nameInput = document.getElementById('profileName');
            if (nameInput && nameInput.value.trim()) {
                playerProfile.name = nameInput.value.trim();
            }
            
            // ุงุนุชุจุงุฑุณูุฌ
            if (!playerProfile.name || playerProfile.name.trim() === '') {
                showToast('โ๏ธ ูุทูุง ูุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ', 'warning');
                return;
            }
            
            if (!playerProfile.version) {
                showToast('โ๏ธ ูุทูุง ูุฑฺู ุจุงุฒ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ', 'warning');
                return;
            }
            
            if (!playerProfile.skill) {
                showToast('โ๏ธ ูุทูุง ุณุทุญ ููุงุฑุช ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ', 'warning');
                return;
            }
            
            if (!playerProfile.style) {
                showToast('โ๏ธ ูุทูุง ุณุจฺฉ ุจุงุฒ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ', 'warning');
                return;
            }
            
            // Save to localStorage
            const saved = saveToLocalStorage();
            if (saved) {
                updatePlayerDisplay();
                updateSuggestedQuestions();
                closeProfileModal();
                
                showToast('โ ูพุฑููุงู ุจุง ููููุช ุฐุฎุฑู ุดุฏ!', 'success');
                addMessageToChat(`๐ ุณูุงู ${playerProfile.name}! ูพุฑููุงู ุดูุง ุชูุธู ุดุฏ.`, false);
            } else {
                showToast('โ ุฎุทุง ุฏุฑ ุฐุฎุฑู ูพุฑููุงู', 'error');
            }
        }

        // =========== ุณุณุชู ูุงุดู ุญุณุงุจ ===========
        function openCalculator() {
            document.getElementById('calculatorModal').style.display = 'flex';
        }

        function closeCalculator() {
            document.getElementById('calculatorModal').style.display = 'none';
            document.getElementById('calcResult').classList.add('hidden');
        }

        function calculate() {
            const type = document.getElementById('calcType').value;
            const level = parseInt(document.getElementById('calcLevel').value) || 1;
            let result = '';
            
            switch(type) {
                case 'beacon':
                    const baseBlocks = [9, 34, 83, 164][level-1] || 164;
                    result = `
                        <h4 class="font-bold mb-2 text-cyan-300">ูุฑู ุจฺฉู ุณุทุญ ${level}</h4>
                        <p class="mb-2">ุชุนุฏุงุฏ ุจููฺฉ ููุฑุฏ ูุงุฒ: <strong class="text-yellow-400">${baseBlocks}</strong></p>
                        <p class="text-sm mb-1">๐ ุงฺฏุฑ ุงุฒ ุขูู ุงุณุชูุงุฏู ฺฉู: ${baseBlocks * 9} Iron Ingot</p>
                        <p class="text-sm mb-1">๐ ุงฺฏุฑ ุงุฒ ุงููุงุณ ุงุณุชูุงุฏู ฺฉู: ${baseBlocks} Diamond Block</p>
                        <p class="text-sm mb-1">๐ฐ ุงฺฏุฑ ุงุฒ ุทูุง ุงุณุชูุงุฏู ฺฉู: ${baseBlocks * 9} Gold Ingot</p>
                        <p class="mt-3 text-xs text-gray-300">๐ก ูฺฉุชู: ุจุฑุง ุณุทุญ ด ุจุงุฏ ด ูุงู ุจุณุงุฒ (9+25+49+81=164 ุจููฺฉ)</p>
                    `;
                    break;
                    
                case 'full_armor':
                    result = `
                        <h4 class="font-bold mb-2 text-cyan-300">ุณุช ฺฉุงูู ุฒุฑู</h4>
                        <p class="mb-2">๐ก๏ธ ุจุฑุง ุงููุงุณ: <strong class="text-yellow-400">ฒด Diamond</strong></p>
                        <p class="text-sm mb-1">โ๏ธ ุจุฑุง ุดูุดุฑ ุงููุงุณ: +ฒ Diamond</p>
                        <p class="text-sm mb-1">โ๏ธ ุจุฑุง ฺฉููฺฏ ุงููุงุณ: +ณ Diamond</p>
                        <p class="text-sm mb-1">๐จ ุจุฑุง ุชุจุฑ ุงููุงุณ: +ณ Diamond</p>
                        <p class="mt-3 font-bold">๐ ูุฌููุน ุจุฑุง ุณุช ฺฉุงูู: <span class="text-green-400">ณฒ Diamond</span></p>
                    `;
                    break;
                    
                case 'enchant':
                    const xpLevels = [1, 8, 16, 24, 32];
                    const lapis = [1, 3, 5, 7, 9];
                    result = `
                        <h4 class="font-bold mb-2 text-cyan-300">ุงูฺูุช ุณุทุญ ${level}</h4>
                        <p class="mb-2">๐ ุณุทุญ XP ููุฑุฏ ูุงุฒ: <strong class="text-yellow-400">${xpLevels[level-1] || 32}</strong></p>
                        <p class="text-sm mb-1">๐ต ูุงูพุณ ูุงุฒุงุฑ: ${lapis[level-1] || 9}</p>
                        <p class="text-sm mb-1">๐ฐ ุดุงูุณ ุงูฺูุช ุฎูุจ: ${['30%','25%','20%','15%','10%'][level-1] || '10%'}</p>
                        <p class="mt-3 text-xs text-gray-300">๐ก ูฺฉุชู: ุจุง bookshelf ุจุดุชุฑุ ุงูฺูุชโูุง ุจูุชุฑ ูโฺฏุฑ</p>
                    `;
                    break;
                    
                case 'portal':
                    result = `
                        <h4 class="font-bold mb-2 text-cyan-300">ูพูุฑุชุงู ูุฏุฑ</h4>
                        <p class="mb-2">๐ฅ ููุฑุฏ ูุงุฒ: <strong class="text-yellow-400">ฑฐ Obsidian</strong></p>
                        <p class="text-sm mb-1">โ๏ธ ุจุฑุง ุงุณุชุฎุฑุงุฌ: Diamond Pickaxe ุจุง Silk Touch ุง Diamond Pickaxe ูุนููู</p>
                        <p class="text-sm mb-1">๐ฅ ุจุฑุง ูุนุงู ฺฉุฑุฏู: Flint and Steel</p>
                        <p class="mt-3 text-xs text-gray-300">๐ก ูฺฉุชู: ูพูุฑุชุงู ุจุงุฏ ูุณุชุทู ดรต ุจุงุดุฏ (ุจุฏูู ฺฏูุดูโูุง)</p>
                    `;
                    break;
                    
                case 'potions':
                    result = `
                        <h4 class="font-bold mb-2 text-cyan-300">ูพูุดู ุณุทุญ ${level}</h4>
                        <p class="mb-2">๐งช ุขุจโุดุดูโูุง: <strong class="text-yellow-400">${level}</strong></p>
                        <p class="text-sm mb-1">๐ฅ ููุงุฏ ุงููู: Nether Wart + ููุงุฏ ุฎุงุต</p>
                        <p class="text-sm mb-1">โฑ๏ธ ุฒูุงู ุงุซุฑ: ${level * 3} ุฏููู (ุจุง Redstone ุจุดุชุฑ)</p>
                        <p class="text-sm mb-1">โก ูุฏุฑุช: ${level} (ุจุง Glowstone ุจุดุชุฑ)</p>
                        <p class="mt-3 text-xs text-gray-300">๐ก ูฺฉุชู: ุงุฒ Brewing Stand ุงุณุชูุงุฏู ฺฉู</p>
                    `;
                    break;
            }
            
            const resultDiv = document.getElementById('calcResult');
            resultDiv.innerHTML = result;
            resultDiv.classList.remove('hidden');
        }

        // =========== ุณุณุชู ูุฏู ===========
        function showVideoSuggestions() {
            document.getElementById('videoModal').style.display = 'flex';
            
            const videoList = document.getElementById('videoList');
            videoList.innerHTML = '';
            
            for (const [topic, video] of Object.entries(videoSuggestions)) {
                videoList.innerHTML += `
                    <div class="video-suggestion p-4 rounded-lg">
                        <div class="font-bold text-white">${video.title}</div>
                        <div class="text-sm text-gray-400 mt-1">ููุถูุน: ${topic}</div>
                        <a href="${video.url}" target="_blank" 
                           class="inline-block mt-3 text-sm text-purple-300 hover:text-purple-400 font-medium">
                            <i class="fas fa-play mr-2"></i> ุชูุงุดุง ูุฏู
                        </a>
                    </div>
                `;
            }
        }

        function closeVideoModal() {
            document.getElementById('videoModal').style.display = 'none';
        }

        // =========== ุณูุงูุงุช ูพุดููุงุฏ ===========
        function updateSuggestedQuestions() {
            const questionsDiv = document.getElementById('suggestedQuestions');
            let questions = [];
            
            // Personalized questions based on profile
            if (playerProfile.skill === 'noob') {
                questions = [
                    'ฺุทูุฑ ุงููู ุดุจ ุฑุง ุฒูุฏู ุจูุงููุ',
                    'ฺุทูุฑ ุบุฐุง ูพุฏุง ฺฉููุ',
                    'ุณุงุฏูโุชุฑู ุฎุงูู ฺุทูุฑ ุณุงุฎุชู ูโุดูุฏุ',
                    'ฺุทูุฑ ุชุฎุช ุจุณุงุฒูุ',
                    'ฺุทูุฑ ุฐุบุงู ุณูฺฏ ูพุฏุง ฺฉููุ',
                    'ฺุทูุฑ ูุดุนู ุฏุฑุณุช ฺฉููุ'
                ];
            } else if (playerProfile.style === 'builder') {
                questions = [
                    'ุจูุชุฑู ุจููฺฉโูุง ุจุฑุง ุณุงุฎุชูุงู ฺุณุชุ',
                    'ฺุทูุฑ ุฎุงูู ูุฏุฑู ุจุณุงุฒูุ',
                    'ุงุฏูโูุง ุฎูุงูุงูู ุจุฑุง ุฏฺฉูุฑุงุณูู',
                    'ุทุฑุงุญ ุฏุงุฎู ุฎุงูู',
                    'ฺุทูุฑ ุจุงุบ ุฒุจุง ุจุณุงุฒูุ',
                    'ููุฑูพุฑุฏุงุฒ ุฏุฑ ุณุงุฎุชูุงู'
                ];
            } else if (playerProfile.style === 'redstone') {
                questions = [
                    'ุณุงุฏูโุชุฑู ูุฏุงุฑ ุฑุฏุงุณุชูู',
                    'ฺุทูุฑ ุฏุฑ ุงุชููุงุชฺฉ ุจุณุงุฒูุ',
                    'ุขููุฒุด comparator',
                    'ูุงุฑู ุฎูุฏฺฉุงุฑ ฺฉุดุงูุฑุฒ',
                    'ุณุณุชู ุชุฑุงุจุฑ ุจุง ูพุณุชูู',
                    'ฺุฑุงุบ ฺุดูฺฉโุฒู ุจุณุงุฒู'
                ];
            } else {
                questions = [
                    'ฺุทูุฑ ุงููุงุณ ูพุฏุง ฺฉููุ',
                    'ุจูุชุฑู ุฑุงู ุฏูุงุน ุฏุฑ ุดุจ ฺุณุชุ',
                    'ฺุทูุฑ ูพูุฑุชุงู ูุฏุฑ ุจุณุงุฒูุ',
                    'ุชูุงูุช Java ู Bedrock ฺุณุชุ',
                    'ฺุทูุฑ ูุงุฑู ุจุณุงุฒูุ',
                    'ุจูุชุฑู ุงูฺูุชโูุง ฺฉุฏุงููุฏุ'
                ];
            }
            
            // Randomize and display
            questionsDiv.innerHTML = '';
            questions.sort(() => Math.random() - 0.5).slice(0, 3).forEach(q => {
                questionsDiv.innerHTML += `
                    <div class="suggested-question p-4 text-center cursor-pointer" 
                         onclick="askQuickQuestion('${q}')">
                        <i class="fas fa-question-circle mr-2 text-blue-400"></i>
                        <span class="text-sm">${q}</span>
                    </div>
                `;
            });
        }

        // =========== ุณุณุชู ฺุช ===========
        function createMessageElement(text, isUser = false) {
            const messageDiv = document.createElement("div");
            messageDiv.className = `message-bubble p-4 ${isUser ? 'user-bubble self-end' : 'bot-bubble self-start'}`;
            
            const time = new Date().toLocaleTimeString('fa-IR', {hour: '2-digit', minute:'2-digit'});
            
            if (!isUser) {
                messageDiv.innerHTML = `
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-6 h-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 flex items-center justify-center">
                            <i class="fas fa-robot text-xs"></i>
                        </div>
                        <span class="font-bold">ูุฑู</span>
                        <span class="text-xs text-gray-400">${time}</span>
                    </div>
                    <div class="rtl-text">${escapeHtml(text)}</div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-center gap-2 mb-2 justify-end">
                        <span class="text-xs text-gray-400">${time}</span>
                        <span class="font-bold">${escapeHtml(playerProfile.name)}</span>
                        <div class="w-6 h-6 rounded-full bg-gradient-to-r from-green-500 to-emerald-400 flex items-center justify-center">
                            <i class="fas fa-user text-xs"></i>
                        </div>
                    </div>
                    <div class="rtl-text">${escapeHtml(text)}</div>
                `;
            }
            
            return messageDiv;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function addMessageToChat(text, isUser = false) {
            const messageElement = createMessageElement(text, isUser);
            const chatbox = document.getElementById('chatbox');
            chatbox.appendChild(messageElement);
            chatbox.scrollTop = chatbox.scrollHeight;
            
            if (!isUser) {
                addXP(10);
            }
        }

        function showTyping() {
            document.getElementById('typingIndicator').classList.remove('hidden');
            const chatbox = document.getElementById('chatbox');
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typingIndicator').classList.add('hidden');
        }

        async function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            if (isReceiving || !messageInput.value.trim()) return;

            const messageText = messageInput.value.trim();
            messageInput.value = "";
            
            // Add user message
            addMessageToChat(messageText, true);
            
            // Check for daily challenge completion
            if (!playerProfile.challengeCompleted) {
                const challengeText = playerProfile.dailyChallenge.toLowerCase();
                const messageLower = messageText.toLowerCase();
                if (messageLower.includes(challengeText.replace('ณ', '3').replace('ณ', '3')) || 
                    messageLower.includes('ฺุงูุด')) {
                    playerProfile.challengeCompleted = true;
                    addMessageToChat(`๐ฏ ฺุงูุด ุฑูุฒุงูู "${playerProfile.dailyChallenge}" ุชฺฉูู ุดุฏ! +ตฐ XP`, false);
                    addXP(50);
                    saveToLocalStorage();
                }
            }
            
            // Connect to AI
            await connectWebSocket(messageText);
        }

        function askQuickQuestion(question) {
            const messageInput = document.getElementById('messageInput');
            messageInput.value = question;
            sendMessage();
        }

        async function connectWebSocket(message) {
            if (isInTutorial) {
                handleTutorialResponse(message);
                return;
            }
            
            isReceiving = true;
            showTyping();
            
            if (!chatId) {
                chatId = crypto.randomUUID ? crypto.randomUUID() : Date.now().toString();
            }
            
            const url = "wss://backend.buildpicoapps.com/api/chatbot/chat";
            const websocket = new WebSocket(url);

            // Create bot message element
            const botMessageElement = createMessageElement("", false);
            document.getElementById('chatbox').appendChild(botMessageElement);

            websocket.addEventListener("open", () => {
                const fullPrompt = getMinecraftExpertPrompt() + `\n\nฺฉุงุฑุจุฑ ูโูพุฑุณุฏ: "${message}"\n\nูุทูุง ูพุงุณุฎ ุจุฏู:`;
                
                websocket.send(
                    JSON.stringify({
                        chatId: chatId,
                        appId: "himself-difficult",
                        systemPrompt: fullPrompt,
                        message: message,
                    })
                );
            });

            websocket.onmessage = (event) => {
                const contentDiv = botMessageElement.querySelector('.rtl-text');
                if (contentDiv) {
                    contentDiv.textContent += event.data;
                }
                document.getElementById('chatbox').scrollTop = document.getElementById('chatbox').scrollHeight;
            };

            websocket.onclose = (event) => {
                hideTyping();
                isReceiving = false;
                
                if (event.code !== 1000) {
                    const contentDiv = botMessageElement.querySelector('.rtl-text');
                    if (contentDiv) {
                        const errorDiv = document.createElement('div');
                        errorDiv.className = 'text-red-400 text-sm mt-2';
                        errorDiv.textContent = 'ุฎุทุง ุฏุฑ ุงุชุตุงู ุจู ุณุฑูุฑ. ูุทูุง ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ.';
                        contentDiv.appendChild(errorDiv);
                        document.getElementById('chatbox').scrollTop = document.getElementById('chatbox').scrollHeight;
                    }
                }
            };

            websocket.onerror = () => {
                hideTyping();
                isReceiving = false;
                
                const contentDiv = botMessageElement.querySelector('.rtl-text');
                if (contentDiv) {
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'text-red-400 text-sm mt-2';
                    errorDiv.textContent = 'ุฎุทุง ุฏุฑ ุงุฑุชุจุงุท ุจุง ุณุฑูุฑ.';
                    contentDiv.appendChild(errorDiv);
                    document.getElementById('chatbox').scrollTop = document.getElementById('chatbox').scrollHeight;
                }
            };
        }

        function handleTutorialResponse(message) {
            showTyping();
            
            setTimeout(() => {
                hideTyping();
                
                const responses = [
                    "ุขูุฑู! ุฏุฑุณุช ุงูุฌุงู ุฏุงุฏ. ุจุฑู ูุฑุญูู ุจุนุฏ!",
                    "ุนุงูู! ุญุงูุง ุจุฑู ุณุฑุงุบ ูุฑุญูู ุจุนุฏ",
                    "ุฎูุจู! ูฺฉุชู ุจุนุฏ ุฑู ุงุฏ ุจฺฏุฑ",
                    "ุฏุฑุณุชู! ุงู ฺฉุงุฑ ุฑู ฺฉู ุงุฏ ฺฏุฑูุชุ ุจุฑู ูุฑุญูู ุจุนุฏ"
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessageToChat(randomResponse, false);
                
                // Auto-advance after tutorial response
                setTimeout(() => {
                    nextStep();
                }, 1500);
            }, 1000);
        }

        // =========== ุณุณุชู ููุชูฺฉุดู ===========
        function showToast(message, type = 'success') {
            const toastContainer = document.getElementById('toastContainer');
            if (!toastContainer) return;
            
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'exclamation-triangle'}"></i>
                <span>${message}</span>
            `;
            
            toastContainer.appendChild(toast);
            
            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        function showSaveNotification() {
            const saved = saveToLocalStorage();
            if (saved) {
                showToast('โ ุงุทูุงุนุงุช ุจุง ููููุช ุฐุฎุฑู ุดุฏ!', 'success');
            } else {
                showToast('โ ุฎุทุง ุฏุฑ ุฐุฎุฑู ุงุทูุงุนุงุช', 'error');
            }
        }

        function showRecoveryCode() {
            const code = Math.random().toString(36).substring(2, 8).toUpperCase();
            showToast(`๐ ฺฉุฏ ุจุงุฒุงุจ ุดูุง: ${code}`, 'success');
        }

        // =========== ุณุณุชู ูุฏุฑุช ===========
        function clearChat() {
            if (confirm('ุขุง ุงุฒ ูพุงฺฉ ฺฉุฑุฏู ุชุงุฑุฎฺู ฺุช ูุทูุฆูุฏุ')) {
                const chatbox = document.getElementById('chatbox');
                chatbox.innerHTML = `
                    <div class="message-bubble bot-bubble p-4 self-start">
                        <div class="flex items-center gap-2 mb-2">
                            <div class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center">
                                <i class="fas fa-robot text-xs"></i>
                            </div>
                            <span class="font-bold">ูุฑู</span>
                        </div>
                        <p>ุณูุงู ${playerProfile.name}! ูู ูุฑู ูุณุชูุ ุฏุณุชุงุฑ ููุดููุฏ ูุงูโฺฉุฑุงูุช. ๐ค</p>
                        <p class="mt-2 text-gray-300">ูโุชููู ุฏุฑ ููุฑุฏ ูุฑ ฺุฒ ุฏุฑ ูุงูโฺฉุฑุงูุช ฺฉูฺฉุช ฺฉูู!</p>
                        <div class="mt-3 text-sm text-blue-300">
                            <i class="fas fa-star"></i> ุณุทุญ ูุนู ุชู: ${playerProfile.skill}
                            <br>
                            <i class="fas fa-bullseye"></i> ฺุงูุด ุฑูุฒุงูู: ${playerProfile.dailyChallenge}
                        </div>
                    </div>
                `;
                updateSuggestedQuestions();
            }
        }

        // =========== ุฑุงูโุงูุฏุงุฒ ุงููู ===========
        document.addEventListener('DOMContentLoaded', function() {
            // ุจุงุฑฺฏุฐุงุฑ ุงุทูุงุนุงุช ุฐุฎุฑู ุดุฏู
            const loaded = loadFromLocalStorage();
            if (loaded) {
                updatePlayerDisplay();
            }
            
            // ุขูพุฏุช ุณูุงูุงุช ูพุดููุงุฏ
            updateSuggestedQuestions();
            
            // ุชูุธู ุฑูุฏุงุฏูุง
            const messageInput = document.getElementById('messageInput');
            if (messageInput) {
                messageInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendMessage();
                    }
                });
            }
            
            // ุชูุธู ุฏฺฉูู share
            const shareBtn = document.getElementById('shareLinkBtn');
            if (shareBtn) {
                shareBtn.onclick = function() {
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        showToast('๐ ููฺฉ ฺฉูพ ุดุฏ!', 'success');
                    }).catch(() => {
                        showToast('โ ุฎุทุง ุฏุฑ ฺฉูพ ููฺฉ', 'error');
                    });
                };
            }
            
            // ฺฺฉ ฺฉุฑุฏู ุงููู ุจุงุฑ
            const firstTime = localStorage.getItem('mc_first_time');
            if (!firstTime) {
                setTimeout(() => {
                    openProfileModal();
                    localStorage.setItem('mc_first_time', 'true');
                }, 1000);
            }
            
            // ุชูุธู ฺุงูุด ุฑูุฒุงูู ุงฺฏุฑ ูุฌูุฏ ูุฏุงุฑุฏ
            if (!playerProfile.dailyChallenge) {
                playerProfile.dailyChallenge = dailyChallenges[Math.floor(Math.random() * dailyChallenges.length)];
                saveToLocalStorage();
                updatePlayerDisplay();
            }
            
            // ุฑูุฑุด ุงุชููุงุชฺฉ ฺุงูุด
            const now = new Date();
            const lastReset = localStorage.getItem('mc_last_reset');
            if (!lastReset || new Date(lastReset).getDate() !== now.getDate()) {
                playerProfile.challengeCompleted = false;
                playerProfile.dailyChallenge = dailyChallenges[Math.floor(Math.random() * dailyChallenges.length)];
                localStorage.setItem('mc_last_reset', now.toISOString());
                saveToLocalStorage();
                updatePlayerDisplay();
                
                if (playerProfile.questions > 0) {
                    addMessageToChat(`๐ฏ ฺุงูุด ุฑูุฒุงูู ุฌุฏุฏ: ${playerProfile.dailyChallenge}`, false);
                }
            }
            
            // ููฺฉูุณ ุฑู ุงููพูุช
            setTimeout(() => {
                if (messageInput) {
                    messageInput.focus();
                }
            }, 500);
        });

        // =========== ุฑูุฏุงุฏูุง ุนููู ===========
        window.openProfileModal = openProfileModal;
        window.closeProfileModal = closeProfileModal;
        window.selectVersion = selectVersion;
        window.selectLevel = selectLevel;
        window.selectStyle = selectStyle;
        window.saveProfile = saveProfile;
        window.openCalculator = openCalculator;
        window.closeCalculator = closeCalculator;
        window.calculate = calculate;
        window.showVideoSuggestions = showVideoSuggestions;
        window.closeVideoModal = closeVideoModal;
        window.setMode = setMode;
        window.startTutorial = startTutorial;
        window.exitTutorial = exitTutorial;
        window.prevStep = prevStep;
        window.nextStep = nextStep;
        window.sendMessage = sendMessage;
        window.askQuickQuestion = askQuickQuestion;
        window.clearChat = clearChat;
        window.showSaveNotification = showSaveNotification;
        window.showRecoveryCode = showRecoveryCode;
        // =========== ุฑูุน ุจุงฺฏโูุง ููุง (ุงุถุงูู ุจู ุงูุฌุง) ===========

// 1. ุฑูุน ุจุงฺฏ ฺฉูุฏ ุจุงุฒุงุจ
function showRecoveryCode() {
    // ุชููุฏ ฺฉุฏ ถ ุฑูู
    const code = Math.floor(100000 + Math.random() * 900000);
    
    // ุฐุฎุฑู ฺฉุฏ ุฏุฑ localStorage
    localStorage.setItem('recovery_code', code);
    localStorage.setItem('recovery_data', JSON.stringify(playerProfile));
    
    // ููุงุด ฺฉุฏ
    const modal = document.createElement('div');
    modal.className = 'modal-overlay';
    modal.style.display = 'flex';
    modal.innerHTML = `
        <div class="modal-content max-w-md p-6 m-4">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-purple-300">๐ ฺฉุฏ ุจุงุฒุงุจ</h3>
                <button onclick="this.parentElement.parentElement.parentElement.remove()" 
                        class="text-gray-400 hover:text-white text-xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="text-center py-6">
                <div class="text-4xl font-bold text-yellow-400 mb-4">${code}</div>
                <p class="text-gray-300 mb-4">ุงู ฺฉุฏ ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ!</p>
                <p class="text-sm text-gray-400">ุจุฑุง ุจุงุฒุงุจ ุงุทูุงุนุงุชุ ุงู ฺฉุฏ ุฑุง ุฏุฑ ุตูุญู ุงุตู ูุงุฑุฏ ฺฉูุฏ.</p>
            </div>
            <button onclick="copyToClipboard('${code}')" 
                    class="w-full py-3 bg-purple-600 rounded-lg hover:bg-purple-700 mt-4">
                <i class="fas fa-copy mr-2"></i> ฺฉูพ ฺฉุฏ
            </button>
        </div>
    `;
    document.body.appendChild(modal);
}

// 2. ุฑูุน ุจุงฺฏ ุฏฺฉูู ุฐุฎุฑู
function showSaveNotification() {
    // ุฐุฎุฑู ููุฑ
    const saved = saveToLocalStorage();
    
    // ููุงุด ููุชูฺฉุดู
    if (saved) {
        showToast('โ ุงุทูุงุนุงุช ุจุง ููููุช ุฐุฎุฑู ุดุฏ!', 'success');
        
        // ุชููุฏ ููฺฉ ูุงุจู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ
        const params = new URLSearchParams();
        params.set('name', encodeURIComponent(playerProfile.name));
        params.set('level', playerProfile.level);
        params.set('xp', playerProfile.xp);
        
        const shareUrl = `${window.location.origin}${window.location.pathname}?${params.toString()}`;
        
        // ฺฉูพ ููฺฉ ุจู ฺฉููพโุจูุฑุฏ
        setTimeout(() => {
            navigator.clipboard.writeText(shareUrl).then(() => {
                showToast('๐ ููฺฉ ุฐุฎุฑู ุฏุฑ ฺฉููพโุจูุฑุฏ ฺฉูพ ุดุฏ!', 'success');
            });
        }, 1000);
    } else {
        showToast('โ ุฎุทุง ุฏุฑ ุฐุฎุฑู ุงุทูุงุนุงุช', 'error');
    }
}

// 3. ุฑูุน ุจุงฺฏ ุชุดุฎุต ุญุงูุชโูุง
function updateModeSpecificUI() {
    const messageInput = document.getElementById('messageInput');
    const currentModeSpan = document.getElementById('currentMode');
    
    if (currentMode === 'speedrun') {
        // ุญุงูุช ุงุณูพุฏุฑุงู
        if (messageInput) {
            messageInput.placeholder = 'ุณูุงู ุงุณูพุฏุฑุงู (ฺฉูุชุงู ู ุณุฑุน)...';
        }
        if (currentModeSpan) {
            currentModeSpan.textContent = 'ุญุงูุช ุงุณูพุฏุฑุงู โก';
            currentModeSpan.className = 'text-xs text-red-300';
        }
        
        // ุจูโุฑูุฒุฑุณุงู ูพุฑุงููพุช
        updateExpertPrompt();
    } else {
        // ุญุงูุช ุนุงุฏ
        if (messageInput) {
            messageInput.placeholder = 'ุณูุงู ุฎูุฏ ุฑุง ุงูุฌุง ุจููุณุฏ...';
        }
        if (currentModeSpan) {
            currentModeSpan.textContent = 'ุญุงูุช ุนุงุฏ';
            currentModeSpan.className = 'text-xs text-cyan-300';
        }
    }
}

// 4. ุชุงุจุน ฺฉูฺฉ ุจุฑุง ฺฉูพ ุจู ฺฉููพโุจูุฑุฏ
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
        showToast('๐ ฺฉูพ ุดุฏ!', 'success');
    }).catch(() => {
        showToast('โ ุฎุทุง ุฏุฑ ฺฉูพ', 'error');
    });
}

// 5. ุชุงุจุน ุจูุจูุฏ ุงูุชู setMode
const originalSetMode = window.setMode;
window.setMode = function(mode) {
    // ูุฑุงุฎูุงู ุชุงุจุน ุงุตู
    if (originalSetMode) originalSetMode(mode);
    
    // ุจูโุฑูุฒุฑุณุงู UI ุญุงูุช
    setTimeout(updateModeSpecificUI, 100);
    
    // ููุงุด ูพุงู ุชุบุฑ ุญุงูุช
    const modeMessages = {
        'normal': 'ุญุงูุช ุนุงุฏ ูุนุงู ุดุฏ',
        'speedrun': 'ุญุงูุช ุงุณูพุฏุฑุงู ูุนุงู ุดุฏ โก',
        'tutor': 'ุญุงูุช ุขููุฒุด ูุนุงู ุดุฏ ๐'
    };
    
    if (modeMessages[mode]) {
        showToast(modeMessages[mode], 'success');
    }
};

// 6. ุชุงุจุน ุจูุจูุฏ ุงูุชู saveProfile
const originalSaveProfile = window.saveProfile;
window.saveProfile = function() {
    // ูุฑุงุฎูุงู ุชุงุจุน ุงุตู
    if (originalSaveProfile) originalSaveProfile();
    
    // ููุงุด ุชุฃุฏ ุฐุฎุฑู
    setTimeout(() => {
        showToast('โ ูพุฑููุงู ุฐุฎุฑู ุดุฏ!', 'success');
    }, 500);
};

// 7. ุฑุงูโุงูุฏุงุฒ ุงููู ุญุงูุชโูุง
document.addEventListener('DOMContentLoaded', function() {
    // ุชูุธู ุญุงูุช ูพุดโูุฑุถ
    setTimeout(() => {
        updateModeSpecificUI();
    }, 1000);
    
    // ุฑูุฏุงุฏ ฺฉูฺฉ ุจุฑุง ุฏฺฉูู ุฐุฎุฑู
    const saveBtn = document.querySelector('button[onclick*="showSaveNotification"]');
    if (saveBtn) {
        saveBtn.onclick = showSaveNotification;
    }
    
    // ุฑูุฏุงุฏ ฺฉูฺฉ ุจุฑุง ุฏฺฉูู ฺฉุฏ ุจุงุฒุงุจ
    const recoveryBtn = document.querySelector('button[onclick*="showRecoveryCode"]');
    if (recoveryBtn) {
        recoveryBtn.onclick = showRecoveryCode;
    }
});

// 8. ุชุงุจุน ุจูุจูุฏ ุงูุชู ุจุฑุง ูพุฑุงููพุช ุญุงูุช ุงุณูพุฏุฑุงู
function updateExpertPrompt() {
    let modeSpecificInstructions = '';
    
    if (currentMode === 'speedrun') {
        modeSpecificInstructions = `
        ๐ **ุฏุณุชูุฑุงุช ุญุงูุช ุงุณูพุฏุฑุงู:**
        - ูพุงุณุฎโูุง ุจุงุฏ ุจุณุงุฑ ฺฉูุชุงู ู ูุณุชูู ุจุงุดูุฏ
        - ููุท ุฑุงูโูุง ุณุฑุน ู ุจููู ุฑุง ุจฺฏู
        - ุงุฒ ุชูุถุญุงุช ุงุถุงู ุฎูุฏุฏุงุฑ ฺฉู
        - ุฒูุงูโุจูุฏ ู ุชุงููฺฏ ููู ุงุณุช
        - ุฎุทุฑุงุช ุงุตู ุฑุง ุฐฺฉุฑ ฺฉู (โ๏ธ)
        - ูุฑูุช ูพุงุณุฎ: ูฺฉุชู ุงุตู โ ุฑุงูโุญู ุณุฑุน โ ุฒูุงู ุชุฎูู
        
        ูุซุงู ูพุงุณุฎ ุงุณูพุฏุฑุงู:
        "ุงููุงุณ: ุจุฑู Y=-59ุ branch miningุ ต-ฑฐ ุฏููู ุงูู ูพุฏุง ูฺฉู"
        `;
    }
    
    // ูพุฑุงููพุช ุงุตู ุจุง ุฏุณุชูุฑุงุช ุญุงูุช ุงุถุงูู ูโุดูุฏ
    // (ุงู ุจุฑุง WebSocket ุงุณุชูุงุฏู ูโุดูุฏ)
    window.getMinecraftExpertPrompt = function() {
        const basePrompt = `
        ุชู ฺฉ ุฏุณุชุงุฑ ุชุฎุตุต ููุดููุฏ ูุงูโฺฉุฑุงูุช ุจู ูุงู "ูุฑู" ูุณุช.
        ${modeSpecificInstructions}
        
        ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ:
        - ูุงู: ${playerProfile.name}
        - ุณุทุญ: ${playerProfile.skill}
        - ุญุงูุช ูุนู: ${currentMode}
        
        ูุทูุง ุจุง ุชูุฌู ุจู ุญุงูุช ูุนู ูพุงุณุฎ ุจุฏู.
        `;
        
        return basePrompt;
    };
}

// 9. ุชุงุจุน ุจูุจูุฏ ุงูุชู ุจุฑุง ููุงุด Toast
function showToast(message, type = 'success') {
    // ุญุฐู toastูุง ูุจู
    const oldToasts = document.querySelectorAll('.toast');
    oldToasts.forEach(toast => toast.remove());
    
    // ุงุฌุงุฏ toast ุฌุฏุฏ
    const toast = document.createElement('div');
    toast.className = `toast toast-${type}`;
    toast.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
        <span>${message}</span>
    `;
    
    // ุงุถุงูู ฺฉุฑุฏู ุจู ุตูุญู
    document.body.appendChild(toast);
    
    // ุญุฐู ุฎูุฏฺฉุงุฑ ุจุนุฏ ุงุฒ ณ ุซุงูู
    setTimeout(() => {
        if (toast.parentNode) {
            toast.style.opacity = '0';
            toast.style.transform = 'translateY(100px)';
            setTimeout(() => toast.remove(), 300);
        }
    }, 3000);
}

// 10. ุงุถุงูู ฺฉุฑุฏู ุงุณุชุงูโูุง CSS ุจุฑุง Toast
const toastStyles = document.createElement('style');
toastStyles.textContent = `
    .toast {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 12px 20px;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        z-index: 1001;
        display: flex;
        align-items: center;
        gap: 10px;
        animation: toastSlideIn 0.3s ease-out;
        max-width: 300px;
    }
    
    .toast-success {
        background: linear-gradient(135deg, #059669, #10b981);
        color: white;
    }
    
    .toast-error {
        background: linear-gradient(135deg, #dc2626, #ef4444);
        color: white;
    }
    
    @keyframes toastSlideIn {
        from {
            transform: translateY(100px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }
    
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.8);
        backdrop-filter: blur(5px);
        z-index: 1000;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }
    
    .modal-content {
        background: linear-gradient(135deg, #1e293b, #0f172a);
        border: 2px solid #06b6d4;
        border-radius: 20px;
        animation: modalAppear 0.3s ease-out;
        max-width: 500px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    @keyframes modalAppear {
        from {
            opacity: 0;
            transform: scale(0.9) translateY(-20px);
        }
        to {
            opacity: 1;
            transform: scale(1) translateY(0);
        }
    }
`;
document.head.appendChild(toastStyles);

console.log('โ ุณุณุชู ุฑูุน ุจุงฺฏโูุง ุจุงุฑฺฏุฐุงุฑ ุดุฏ');
/* ุงุณฺฉุฑูู ุฎูุฏฺฉุงุฑ ุจู ุขุฎุฑ ฺุช */
function scrollChatToBottom() {
    const chatbox = document.getElementById("chatbox");
    chatbox.scrollTop = chatbox.scrollHeight;
}
// =========== ุณุณุชู ุฐุฎุฑู ู ุจุงุฒุงุจ ูพุงูโูุง ===========

class MessageSaver {
    constructor() {
        this.storageKey = 'herocraft_chat_messages';
        this.maxMessages = 100; // ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ูพุงู ุฐุฎุฑู ุดุฏู
        this.autoSaveDelay = 3000; // ูุฑ ณ ุซุงูู ุฐุฎุฑู ุฎูุฏฺฉุงุฑ
        this.init();
    }
    
    init() {
        // ุจุงุฑฺฏุฐุงุฑ ูพุงูโูุง ุฐุฎุฑู ุดุฏู
        this.loadMessages();
        
        // ุดุฑูุน ุฐุฎุฑู ุฎูุฏฺฉุงุฑ
        this.startAutoSave();
        
        // ุฐุฎุฑู ููฺฏุงู ุจุณุชู ุตูุญู
        this.setupBeforeUnload();
        
        console.log('๐พ ุณุณุชู ุฐุฎุฑู ูพุงูโูุง ูุนุงู ุดุฏ');
    }
    
    // ุจุงุฑฺฏุฐุงุฑ ูพุงูโูุง ุฐุฎุฑู ุดุฏู
    loadMessages() {
        try {
            const saved = localStorage.getItem(this.storageKey);
            if (saved) {
                const messages = JSON.parse(saved);
                
                // ููุท ุงฺฏุฑ ฺุช ูุนู ุฎุงู ุงุณุชุ ูพุงูโูุง ุฑุง ุจุงุฑฺฏุฐุงุฑ ฺฉู
                const chatbox = document.getElementById('chatbox');
                if (chatbox && chatbox.children.length <= 1) {
                    this.restoreMessages(messages);
                }
                
                console.log(`๐ฅ ${messages.length} ูพุงู ุจุงุฒุงุจ ุดุฏ`);
                return true;
            }
        } catch (error) {
            console.error('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูพุงูโูุง:', error);
        }
        return false;
    }
    
    // ุจุงุฒุงุจ ูพุงูโูุง ุฏุฑ ฺุชโุจุงฺฉุณ
    restoreMessages(messages) {
        const chatbox = document.getElementById('chatbox');
        if (!chatbox) return;
        
        // ูพุงฺฉ ฺฉุฑุฏู ููุท ูพุงู ุงูู (ูพุงู ุฎูุดโุขูุฏฺฏู)
        const welcomeMsg = chatbox.querySelector('.bot-bubble');
        if (welcomeMsg) {
            chatbox.innerHTML = '';
            chatbox.appendChild(welcomeMsg);
        }
        
        // ุงุถุงูู ฺฉุฑุฏู ูพุงูโูุง ุฐุฎุฑู ุดุฏู
        messages.forEach(msg => {
            const messageElement = this.createMessageElement(msg);
            chatbox.appendChild(messageElement);
        });
        
        // ุงุณฺฉุฑูู ุจู ูพุงู
        setTimeout(() => {
            chatbox.scrollTop = chatbox.scrollHeight;
        }, 100);
        
        // ููุงุด ููุชูฺฉุดู
        if (messages.length > 0) {
            setTimeout(() => {
                this.showRestoreNotification(messages.length);
            }, 500);
        }
    }
    
    // ููุงุด ููุชูฺฉุดู ุจุงุฒุงุจ
    showRestoreNotification(count) {
        const notification = document.createElement('div');
        notification.className = 'fixed top-20 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-pulse';
        notification.innerHTML = `
            <div class="flex items-center gap-2">
                <i class="fas fa-history"></i>
                <span>${count} ูพุงู ุจุงุฒุงุจ ุดุฏ</span>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        // ุญุฐู ุฎูุฏฺฉุงุฑ ุจุนุฏ ุงุฒ ณ ุซุงูู
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }
    
    // ุฐุฎุฑู ูพุงูโูุง ูุนู
    saveMessages() {
        try {
            const messages = this.extractMessages();
            if (messages.length > 0) {
                // ูุญุฏูุฏ ฺฉุฑุฏู ุชุนุฏุงุฏ ูพุงูโูุง ุฐุฎุฑู ุดุฏู
                const limitedMessages = messages.slice(-this.maxMessages);
                
                localStorage.setItem(this.storageKey, JSON.stringify(limitedMessages));
                localStorage.setItem('last_save_time', new Date().toISOString());
                
                // ููุงุด ูุดุงูฺฏุฑ ุฐุฎุฑู (ููุท ุฏุฑ ฺฉูุณูู)
                console.log('๐พ ูพุงูโูุง ุฐุฎุฑู ุดุฏูุฏ');
                
                return true;
            }
        } catch (error) {
            console.error('ุฎุทุง ุฏุฑ ุฐุฎุฑู ูพุงูโูุง:', error);
        }
        return false;
    }
    
    // ุงุณุชุฎุฑุงุฌ ูพุงูโูุง ุงุฒ ฺุชโุจุงฺฉุณ
    extractMessages() {
        const messages = [];
        const chatbox = document.getElementById('chatbox');
        
        if (!chatbox) return messages;
        
        const messageElements = chatbox.querySelectorAll('.message-bubble');
        
        messageElements.forEach((element, index) => {
            // ูุงุฏุฏู ฺฏุฑูุชู ูพุงู ุงูู (ุฎูุดโุขูุฏฺฏู)
            if (index === 0) return;
            
            const isUser = element.classList.contains('user-bubble');
            const textElement = element.querySelector('.rtl-text');
            const timeElement = element.querySelector('.text-xs.text-gray-400');
            
            if (textElement) {
                const message = {
                    text: textElement.textContent || textElement.innerHTML,
                    isUser: isUser,
                    time: timeElement ? timeElement.textContent : new Date().toLocaleTimeString('fa-IR'),
                    timestamp: new Date().toISOString()
                };
                
                messages.push(message);
            }
        });
        
        return messages;
    }
    
    // ุงุฌุงุฏ ุงูููุช ูพุงู
    createMessageElement(message) {
        const messageDiv = document.createElement("div");
        messageDiv.className = `message-bubble p-4 ${message.isUser ? 'user-bubble self-end' : 'bot-bubble self-start'}`;
        
        if (!message.isUser) {
            messageDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-6 h-6 rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 flex items-center justify-center">
                        <i class="fas fa-robot text-xs"></i>
                    </div>
                    <span class="font-bold">ูุฑู</span>
                    <span class="text-xs text-gray-400">${message.time}</span>
                </div>
                <div class="rtl-text">${message.text}</div>
            `;
        } else {
            messageDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2 justify-end">
                    <span class="text-xs text-gray-400">${message.time}</span>
                    <span class="font-bold">${playerProfile.name}</span>
                    <div class="w-6 h-6 rounded-full bg-gradient-to-r from-green-500 to-emerald-400 flex items-center justify-center">
                        <i class="fas fa-user text-xs"></i>
                    </div>
                </div>
                <div class="rtl-text">${message.text}</div>
            `;
        }
        
        return messageDiv;
    }
    
    // ุดุฑูุน ุฐุฎุฑู ุฎูุฏฺฉุงุฑ
    startAutoSave() {
        setInterval(() => {
            if (this.hasNewMessages()) {
                this.saveMessages();
            }
        }, this.autoSaveDelay);
    }
    
    // ุจุฑุฑุณ ูุฌูุฏ ูพุงู ุฌุฏุฏ
    hasNewMessages() {
        const lastSaveTime = localStorage.getItem('last_save_time');
        if (!lastSaveTime) return true;
        
        const chatbox = document.getElementById('chatbox');
        if (!chatbox) return false;
        
        const messageElements = chatbox.querySelectorAll('.message-bubble');
        return messageElements.length > 1; // ุจุดุชุฑ ุงุฒ ูพุงู ุฎูุดโุขูุฏฺฏู
    }
    
    // ุชูุธู ุฐุฎุฑู ููฺฏุงู ุจุณุชู ุตูุญู
    setupBeforeUnload() {
        window.addEventListener('beforeunload', () => {
            this.saveMessages();
        });
    }
    
    // ูพุงฺฉ ฺฉุฑุฏู ุชูุงู ูพุงูโูุง ุฐุฎุฑู ุดุฏู
    clearAllMessages() {
        if (confirm('ุขุง ุงุฒ ูพุงฺฉ ฺฉุฑุฏู ุชูุงู ูพุงูโูุง ุฐุฎุฑู ุดุฏู ูุทูุฆูุฏุ')) {
            localStorage.removeItem(this.storageKey);
            localStorage.removeItem('last_save_time');
            
            // ูพุงฺฉ ฺฉุฑุฏู ฺุชโุจุงฺฉุณ (ุจู ุฌุฒ ูพุงู ุงูู)
            const chatbox = document.getElementById('chatbox');
            if (chatbox) {
                const firstMessage = chatbox.querySelector('.message-bubble:first-child');
                if (firstMessage) {
                    chatbox.innerHTML = '';
                    chatbox.appendChild(firstMessage);
                }
            }
            
            showToast('๐๏ธ ุชูุงู ูพุงูโูุง ูพุงฺฉ ุดุฏูุฏ', 'success');
            return true;
        }
        return false;
    }
    
    // ฺฏุฑูุชู ุขูุงุฑ ูพุงูโูุง
    getMessageStats() {
        try {
            const saved = localStorage.getItem(this.storageKey);
            if (saved) {
                const messages = JSON.parse(saved);
                return {
                    total: messages.length,
                    userMessages: messages.filter(m => m.isUser).length,
                    botMessages: messages.filter(m => !m.isUser).length,
                    lastSave: localStorage.getItem('last_save_time')
                };
            }
        } catch (error) {
            console.error('ุฎุทุง ุฏุฑ ฺฏุฑูุชู ุขูุงุฑ:', error);
        }
        return null;
    }
    
    // ููุงุด ูุถุนุช ุฐุฎุฑู
    showSaveStatus() {
        const stats = this.getMessageStats();
        if (stats) {
            console.log(`๐ ุขูุงุฑ ูพุงูโูุง: ${stats.total} ูพุงู (${stats.userMessages} ฺฉุงุฑุจุฑ / ${stats.botMessages} ุฑุจุงุช)`);
        }
    }
}

// =========== ุฑุงูโุงูุฏุงุฒ ุณุณุชู ===========

// ุงุฌุงุฏ ููููู ุฐุฎุฑูโฺฉููุฏู
const messageSaver = new MessageSaver();

// =========== ฺฉูพุงุฑฺูโุณุงุฒ ุจุง ุณุณุชู ููุฌูุฏ ===========

// Hook ฺฉุฑุฏู ุจู ุชุงุจุน clearChat ุงุตู
const originalClearChat = window.clearChat;
window.clearChat = function() {
    if (confirm('ุขุง ุงุฒ ูพุงฺฉ ฺฉุฑุฏู ุชุงุฑุฎฺู ฺุช ูุทูุฆูุฏุ\n\nโ๏ธ ูพุงูโูุง ุฐุฎุฑู ุดุฏู ูุฒ ูพุงฺฉ ุฎูุงููุฏ ุดุฏ.')) {
        // ูพุงฺฉ ฺฉุฑุฏู ุฐุฎุฑูโุณุงุฒ
        messageSaver.clearAllMessages();
        
        // ูุฑุงุฎูุงู ุชุงุจุน ุงุตู
        if (originalClearChat) {
            originalClearChat();
        }
        
        showToast('โ ุชุงุฑุฎฺู ฺุช ู ุฐุฎุฑูโูุง ูพุงฺฉ ุดุฏูุฏ', 'success');
    }
};

// Hook ฺฉุฑุฏู ุจู ุชุงุจุน sendMessage ุจุฑุง ุฐุฎุฑู ููุฑ
const originalSendMessage = window.sendMessage;
if (originalSendMessage) {
    window.sendMessage = async function() {
        // ูุฑุงุฎูุงู ุชุงุจุน ุงุตู
        await originalSendMessage();
        
        // ุฐุฎุฑู ูพุงูโูุง ุจุนุฏ ุงุฒ ุงุฑุณุงู
        setTimeout(() => {
            messageSaver.saveMessages();
        }, 500);
    };
}

// ุงุถุงูู ฺฉุฑุฏู ุฏฺฉูู ูุฏุฑุช ุฐุฎุฑู ุจู UI
function addSaveManagementUI() {
    // ุงุถุงูู ฺฉุฑุฏู ุฏฺฉูู ุจู ูุฏุฑ ฺุช
    const chatHeader = document.querySelector('#chatContainer .p-4.border-b');
    if (chatHeader) {
        const buttonContainer = chatHeader.querySelector('.flex.gap-2');
        if (buttonContainer) {
            // ุจุฑุฑุณ ูฺฉุฑุฏู ูุฌูุฏ ุฏฺฉูู ุฐุฎุฑู
            const saveBtn = document.createElement('button');
            saveBtn.id = 'saveMessagesBtn';
            saveBtn.className = 'text-sm text-gray-400 hover:text-white flex items-center gap-2';
            saveBtn.innerHTML = '<i class="fas fa-save"></i> ุฐุฎุฑู';
            saveBtn.title = 'ุฐุฎุฑู ูพุงูโูุง';
            saveBtn.onclick = () => {
                const saved = messageSaver.saveMessages();
                if (saved) {
                    showToast('โ ูพุงูโูุง ุฐุฎุฑู ุดุฏูุฏ', 'success');
                    
                    // ููุงุด ุขูุงุฑ
                    setTimeout(() => {
                        messageSaver.showSaveStatus();
                    }, 1000);
                }
            };
            
            // ุงุถุงูู ฺฉุฑุฏู ุจู ุงุจุชุฏุง ุฏฺฉููโูุง
            buttonContainer.prepend(saveBtn);
            
            // ุงุถุงูู ฺฉุฑุฏู ุฏฺฉูู ุขูุงุฑ
            const statsBtn = document.createElement('button');
            statsBtn.id = 'messageStatsBtn';
            statsBtn.className = 'text-sm text-gray-400 hover:text-white flex items-center gap-2';
            statsBtn.innerHTML = '<i class="fas fa-chart-bar"></i> ุขูุงุฑ';
            statsBtn.title = 'ููุงุด ุขูุงุฑ ูพุงูโูุง';
            statsBtn.onclick = () => {
                const stats = messageSaver.getMessageStats();
                if (stats) {
                    const message = `
                        ๐ ุขูุงุฑ ูพุงูโูุง:
                        
                        โข ฺฉู ูพุงูโูุง: ${stats.total}
                        โข ูพุงูโูุง ุดูุง: ${stats.userMessages}
                        โข ูพุงุณุฎโูุง ูุฑู: ${stats.botMessages}
                        โข ุขุฎุฑู ุฐุฎุฑู: ${new Date(stats.lastSave).toLocaleString('fa-IR')}
                        
                        ูพุงูโูุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฐุฎุฑู ูโุดููุฏ.
                    `;
                    
                    alert(message.replace(/โข/g, 'โข '));
                } else {
                    showToast('๐ ูููุฒ ูพุงู ุฐุฎุฑู ูุดุฏู', 'info');
                }
            };
            
            buttonContainer.prepend(statsBtn);
        }
    }
    
    // ุงุถุงูู ฺฉุฑุฏู ูุดุงูฺฏุฑ ุฐุฎุฑู ุฎูุฏฺฉุงุฑ
    const autoSaveIndicator = document.createElement('div');
    autoSaveIndicator.id = 'autoSaveIndicator';
    autoSaveIndicator.className = 'fixed bottom-4 left-4 bg-gray-800 bg-opacity-80 px-3 py-1 rounded-full text-xs text-gray-400 hidden';
    autoSaveIndicator.innerHTML = '<i class="fas fa-sync-alt animate-spin mr-1"></i> ุฏุฑ ุญุงู ุฐุฎุฑู...';
    document.body.appendChild(autoSaveIndicator);
    
    // ููุงุด ูุดุงูฺฏุฑ ููฺฏุงู ุฐุฎุฑู
    setInterval(() => {
        if (messageSaver.hasNewMessages()) {
            autoSaveIndicator.classList.remove('hidden');
            setTimeout(() => {
                autoSaveIndicator.classList.add('hidden');
            }, 1000);
        }
    }, 2900); // ฺฉู ูุจู ุงุฒ ุฐุฎุฑู ุฎูุฏฺฉุงุฑ
}

// =========== ุงุถุงูู ฺฉุฑุฏู ุงุณุชุงูโูุง ูุงุฒู ===========

const saveStyles = document.createElement('style');
saveStyles.textContent = `
    #autoSaveIndicator {
        backdrop-filter: blur(10px);
        border: 1px solid rgba(6, 182, 212, 0.3);
        z-index: 100;
        animation: fadeIn 0.3s ease-out;
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* ุงููุดู ุจุฑุง ูพุงูโูุง ุฌุฏุฏ */
    .message-bubble:not(:first-child) {
        animation: messageSlideIn 0.3s ease-out;
    }
    
    @keyframes messageSlideIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
`;
document.head.appendChild(saveStyles);

// =========== ุฑุงูโุงูุฏุงุฒ ููุง ===========

document.addEventListener('DOMContentLoaded', function() {
    // ุงุถุงูู ฺฉุฑุฏู UI ูุฏุฑุช ุฐุฎุฑู
    setTimeout(addSaveManagementUI, 1500);
    
    // ููุงุด ูุถุนุช ุจุนุฏ ุงุฒ ุจุงุฑฺฏุฐุงุฑ
    setTimeout(() => {
        messageSaver.showSaveStatus();
    }, 2000);
    
    // ููุงุด ูพุงู ุฎูุดโุขูุฏฺฏู ุฏุฑ ฺฉูุณูู
    console.log('๐พ ุณุณุชู ุฐุฎุฑู ูพุงู ูุนุงู ุงุณุช');
    console.log('๐ ูพุงูโูุง ูุฑ ณ ุซุงูู ุฐุฎุฑู ูโุดููุฏ');
    console.log('๐ ุจุง ุฑูุฑุด ุตูุญูุ ูพุงูโูุง ุจุงุฒุงุจ ูโุดููุฏ');
});

// =========== ุชูุงุจุน ุนููู ุจุฑุง ุฏุณุชุฑุณ ===========

window.messageSaver = messageSaver;
window.saveChatMessages = () => messageSaver.saveMessages();
window.loadChatMessages = () => messageSaver.loadMessages();
window.clearSavedMessages = () => messageSaver.clearAllMessages();
window.getChatStats = () => messageSaver.getMessageStats();
// =========== ุณุณุชู ฺฉูพุงุฑฺู ฺฉุฏูุง ฺุช ุจุฑุง ูพุฑุงููพุช ููุดููุฏ ===========

// ุงุถุงูู ฺฉุฑุฏู ุงู ุจุฎุด ุจู ูพุฑุงููพุช ุงุตู
const cheatCommandsSystem = `

๐ **ุณุณุชู ูพุงุณุฎฺฏู ููุดููุฏ ฺฉุฏูุง ฺุช ูุงูโฺฉุฑุงูุช:**

## **ุฏุณุชูุฑุงูุนูู ูพุงุณุฎฺฏู ุจู ุณูุงูุงุช ฺฉุฏูุง ฺุช:**

### **ูุฑุงุญู ูพุงุณุฎฺฏู:**
1. **ุชุดุฎุต ูุงุฒ ฺฉุงุฑุจุฑ:** 
   - ุงฺฏุฑ ุณูุงู ุดุงูู "ฺุช"ุ "ฺฉุฏ"ุ "ุฏุณุชูุฑ"ุ "command"ุ "cheat" ุจุงุดุฏ
   - ุง ฺฉุงุฑุจุฑ ูุณุชููุงู ุฏุฑุจุงุฑู ฺฉุฏ ุณูุงู ฺฉูุฏ

2. **ูพุฑุณุฏู ุงุทูุงุนุงุช ูุงุฒู:**
   - "ฺู ูุณุฎูโุง ุงุฒ ุจุงุฒ ุฑุง ุงุณุชูุงุฏู ูโฺฉูุ (Java ุง Bedrock)"
   - "ฺู ฺุฒ ูุงุฒ ุฏุงุฑุ (ููุจุนุ ุงุจุฒุงุฑุ ุงุซุฑุ ุณุงุฎุชูุงู)"

3. **ุงุฑุงุฆู ฺฉุฏ ููุงุณุจ:**
   - ุงุจุชุฏุง ฺฉุฏ Java ุฑุง ุจุฏู
   - ุณูพุณ ฺฉุฏ Bedrock ุฑุง ุจุฏู (ุงฺฏุฑ ฺฉุงุฑุจุฑ Bedrock ุงุณุช)
   - ุจุง ูุซุงู ฺฉุงูู ู ุชูุถุญ ูุฑ ูพุงุฑุงูุชุฑ

4. **ุขููุฒุด ุงุณุชูุงุฏู:**
   - "ฺฉูุฏ T ุฑุง ุจุฒู ุชุง ฺุช ุจุงุฒ ุดูุฏ"
   - "ฺฉุฏ ุฑุง ฺฉูพ ฺฉู ู ุฏุฑ ฺุช ูพุณุช ฺฉู"
   - "Enter ุฑุง ุจุฒู"

5. **ูุดุฏุงุฑูุง ููู:**
   - "ุฏุฑ ุณุฑูุฑูุง ุนููู ููฺฉู ุงุณุช ูุนุงู ูุจุงุดุฏ"
   - "ูุงุฒ ุจู OP ุฏุงุฑุฏ ุงฺฏุฑ Survival ูุณุช"
   - "ุฑู achievements ุชุงุซุฑ ูโฺฏุฐุงุฑุฏ"

### **ฺฉุชุงุจุฎุงูู ฺฉุฏูุง ูพุฑฺฉุงุฑุจุฑุฏ:**

๐ง **ุฏุณุชูุฑุงุช ุงุตู Give:**
โข Java: /give @p minecraft:[item] [amount]
โข Bedrock: /give @p [item] [amount]

โก **ุขุชูโูุง ููู:**
- diamond (ุงููุงุณ)
- iron_ingot (ุดูุด ุขูู) 
- gold_ingot (ุดูุด ุทูุง)
- emerald (ุฒูุฑุฏ)
- netherite_ingot (ุดูุด ูุฏุฑุงุช)
- diamond_sword (ุดูุดุฑ ุงููุงุณ)
- diamond_pickaxe (ฺฉููฺฏ ุงููุงุณ)
- diamond_axe (ุชุจุฑ ุงููุงุณ)
- enchanted_golden_apple (ุณุจ ุทูุง ุฌุงุฏู)

โจ **ุงุซุฑูุง ุญุงุช:**
/effect give @p minecraft:speed 300 1       # ุณุฑุนุช ต ุฏููู
/effect give @p minecraft:strength 300 1    # ูุฏุฑุช ูุจุงุฑุฒู
/effect give @p minecraft:jump_boost 300 2  # ูพุฑุด ุจููุฏ
/effect give @p minecraft:regeneration 300 1 # ุฏุฑูุงู ุฎูุฏฺฉุงุฑ
/effect give @p minecraft:night_vision 600 0 # ุฏุฏ ุฏุฑ ุดุจ
/effect give @p minecraft:fire_resistance 600 0 # ููุงููุช ุขุชุด
/effect give @p minecraft:water_breathing 600 0 # ุชููุณ ุฒุฑ ุขุจ
/effect give @p minecraft:invisibility 300 0 # ูุงูุฑุฆ

โ๏ธ **ุฏุณุชูุฑุงุช ูุฏุฑุช ุจุงุฒ:**
/gamemode creative @p      # ุญุงูุช ุฎูุงูุงูู
/gamemode survival @p      # ุญุงูุช ุจูุง
/time set day              # ุฑูุฒ ฺฉุฑุฏู
/weather clear             # ููุง ุตุงู
/gamerule keepInventory true # ูุณุงู ุจุนุฏ ูุฑฺฏ
/difficulty peaceful       # ุญุงูุช ุตูุญ

๐๏ธ **ุฏุณุชูุฑุงุช ุณุงุฎุชูุงู:**
/fill 0 64 0 10 70 10 minecraft:diamond_block
/clone <x1> <y1> <z1> <x2> <y2> <z2> <x> <y> <z>
/tp @p 100 64 100

### **ูุงูุจ ูพุงุณุฎ ููููู:**

ุงฺฏุฑ ฺฉุงุฑุจุฑ ุจูพุฑุณุฏ: "ฺุทูุฑ ุงููุงุณ ุจฺฏุฑู ุจุง ฺุชุ"

**ูพุงุณุฎ ุชู ุจุงุฏ ุงูฺฏููู ุจุงุดุฏ:**
ุณูุงู! ุจุฑุง ฺฏุฑูุชู ุงููุงุณ ุจุง ฺุช:

1. **Java Edition:**
\`\`\`
/give @p minecraft:diamond 64
\`\`\`
ุงู ฺฉุฏ ถด ุงููุงุณ ุจู ูุฒุฏฺฉโุชุฑู ุจุงุฒฺฉู ูโุฏูุฏ.

2. **Bedrock Edition:**
\`\`\`
/give @p diamond 64
\`\`\`

**ูุญูู ุงุณุชูุงุฏู:**
- ฺฉูุฏ \`T\` ุฑุง ุจุฒู (ฺุช ุจุงุฒ ูโุดูุฏ)
- ฺฉุฏ ุฑุง ฺฉูพ ฺฉู ู ูพุณุช ฺฉู
- Enter ุฑุง ุจุฒู

**โ๏ธ ุชูุฌู:**
- ุฏุฑ ุญุงูุช Survival ูุงุฒ ุจู OP ุฏุงุฑ
- ุฏุฑ ุณุฑูุฑูุง ุนููู ููฺฉู ุงุณุช ุบุฑูุนุงู ุจุงุดุฏ
- ุฑู achievements ุชุงุซุฑ ูโฺฏุฐุงุฑุฏ

ฺู ูุณุฎูโุง ุงุฒ ุจุงุฒ ุฑุง ุงุณุชูุงุฏู ูโฺฉู ุชุง ฺฉุฏ ุฏููโุชุฑ ุจุฏููุ

### **ุชุดุฎุต ุฎูุฏฺฉุงุฑ ูุงุฒูุง:**

- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ุงููุงุณ": ฺฉุฏ give diamond
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ุณุฑุนุช": ฺฉุฏ effect speed
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ุญุงูุช ุฎูุงู": ฺฉุฏ gamemode creative
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ูุณุงู ุจุนุฏ ูุฑฺฏ": ฺฉุฏ gamerule keepInventory
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ููุง ุตุงู": ฺฉุฏ weather clear
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ุฑูุฒ": ฺฉุฏ time set day
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ุตูุญ": ฺฉุฏ difficulty peaceful
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ุฏุฑูุงู": ฺฉุฏ effect regeneration
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ูพุฑุด": ฺฉุฏ effect jump_boost
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ฺฏูุช "ููุงููุช ุขุชุด": ฺฉุฏ effect fire_resistance

### **ูพุงุณุฎ ุจู ุณูุงูุงุช ุฑุงุฌ:**

**ุณูุงู: "ฺุทูุฑ ููู ฺุฒ ุฏุงุดุชู ุจุงุดูุ"**
ูพุงุณุฎ: ุฏุฑ ุญุงูุช Creative ููู ฺุฒ ุฑุง ุฏุงุฑ. ุจุง \`/gamemode creative @p\`

**ุณูุงู: "ฺุทูุฑ ูููุงูุง ุฑู ุจฺฉุดูุ"**
ูพุงุณุฎ: \`/kill @e[type=!player]\` - ููู ููุฌูุฏุงุช ุบุฑ ุจุงุฒฺฉู

**ุณูุงู: "ฺุทูุฑ ุณุฑุน ุงุณุชุฎุฑุงุฌ ฺฉููุ"**
ูพุงุณุฎ: \`/effect give @p minecraft:haste 600 2\` - ุณุฑุนุช ุงุณุชุฎุฑุงุฌ ฑฐ ุฏููู

**ุณูุงู: "ฺุทูุฑ ุฒุฑ ุขุจ ููุณ ุจฺฉุดูุ"**
ูพุงุณุฎ: \`/effect give @p minecraft:water_breathing 600 0\`

**ุณูุงู: "ฺุทูุฑ ูุงูุฑุฆ ุดูุ"**
ูพุงุณุฎ: \`/effect give @p minecraft:invisibility 300 0\`

**ุณูุงู: "ฺุทูุฑ ุชููโูพูุฑุช ฺฉููุ"**
ูพุงุณุฎ: \`/tp @p 100 64 200\` - ุจู ูุฎุชุตุงุช 100,64,200

### **ุงุดุชุจุงูุงุช ุฑุงุฌ ู ุฑุงูโุญู:**

1. **"ฺฉุฏ ฺฉุงุฑ ููโฺฉูู!"**
   - ูุทูุฆู ุดู ุฏุฑ ุญุงูุช Creative ูุณุช ุง OP ูุณุช
   - ุงุฒ / ูุจู ุงุฒ ฺฉุฏ ุงุณุชูุงุฏู ฺฉู
   - ุงุณู ุขุชู ุฑุง ุฏุฑุณุช ุจููุณ

2. **"ููโุชููู ฺุฒ ุจุฏู!"**
   - ุงุฒ @p ุงุณุชูุงุฏู ฺฉู (ูุฒุฏฺฉโุชุฑู ุจุงุฒฺฉู)
   - ุงุณู ุขุชู ุฑุง ฺฉุงูู ุจููุณ (ูุซูุงู minecraft:diamond)

3. **"ุงุซุฑ ููโูููู!"**
   - ุฒูุงู ุฑุง ุจุดุชุฑ ฺฉู (ูุซูุงู 600 ุจู ุฌุง 60)
   - ุณุทุญ ุฑุง ุชูุธู ฺฉู (1 ุจุฑุง ุณุทุญ 2)

### **ูฺฉุงุช ูู:**

1. **ุฏุฑ Java Edition:**
   - ุขุชูโูุง ุจุง minecraft: ุดุฑูุน ูโุดููุฏ
   - ุญุฑูู ฺฉูฺฺฉ ู ุจุง underline ุฌุฏุง ูโุดููุฏ
   - ูุซุงู: minecraft:diamond_sword

2. **ุฏุฑ Bedrock Edition:**
   - ุขุชูโูุง ุณุงุฏูโุชุฑ ูุณุชูุฏ
   - ูุซุงู: diamond ุง iron_ingot
   - ุงุนุฏุงุฏ ุจุฑุง ุญุงูุช ุจุงุฒ: 0=Survival, 1=Creative, 2=Adventure

3. **Selectorูุง:**
   - @p = ูุฒุฏฺฉโุชุฑู ุจุงุฒฺฉู
   - @a = ููู ุจุงุฒฺฉูุงู
   - @e = ููู ููุฌูุฏุงุช
   - @s = ุฎูุฏุช

### **ูุซุงู ูพุงุณุฎ ฺฉุงูู:**

**ุณูุงู ฺฉุงุฑุจุฑ:** "ฺุทูุฑ ุดูุดุฑ ุงููุงุณ ุจุง ุงูฺูุช ุจฺฏุฑูุ"

**ูพุงุณุฎ ุชู:**
ุจุฑุง ฺฏุฑูุชู ุดูุดุฑ ุงููุงุณ ุงูฺูุช ุดุฏู:

\`\`\`java
Java Edition:
/give @p minecraft:diamond_sword{Enchantments:[{id:"minecraft:sharpness",lvl:5},{id:"minecraft:knockback",lvl:2},{id:"minecraft:fire_aspect",lvl:2},{id:"minecraft:looting",lvl:3},{id:"minecraft:mending",lvl:1},{id:"minecraft:unbreaking",lvl:3}]} 1
\`\`\`

ุงู ุดูุดุฑ ุดุงูู:
- ุชุฒ ุณุทุญ 5
- ูพุณโุฒุฏู ุณุทุญ 2
- ุขุชุด ุณุทุญ 2
- ุบุงุฑุช ุณุทุญ 3
- ุชุนูุฑ ุฎูุฏฺฉุงุฑ
- ุฏูุงู ุณุทุญ 3

**ูุญูู ุงุณุชูุงุฏู:**
1. ฺฉูุฏ \`T\` ุฑุง ุจุฒู
2. ฺฉุฏ ุฑุง ฺฉูพ ู ูพุณุช ฺฉู
3. Enter ุฑุง ุจุฒู

ุขุง ูุณุฎู Bedrock ุงุณุชูุงุฏู ูโฺฉู ุชุง ฺฉุฏ ูุฎุตูุต ุขู ุฑุง ุจุฏููุ
`;

// =========== ุงุถุงูู ฺฉุฑุฏู ุจู ูพุฑุงููพุช ุงุตู ===========

// ุงฺฏุฑ ูพุฑุงููพุช ุงุตู ูุฌูุฏ ุฏุงุฑุฏุ ุงู ุจุฎุด ุฑุง ุจู ุขู ุงุถุงูู ฺฉู
if (typeof window.minecraftExpertPrompt !== 'undefined') {
    window.minecraftExpertPrompt = window.minecraftExpertPrompt + '\n\n' + cheatCommandsSystem;
} else {
    // ุง ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุฐุฎุฑู ฺฉู
    window.cheatCommandsPrompt = cheatCommandsSystem;
}

// =========== ุณุณุชู ุชุดุฎุต ู ูพุงุณุฎ ุฎูุฏฺฉุงุฑ ===========

class CheatCommandResponder {
    constructor() {
        this.keywords = {
            cheat: ['ฺุช', 'ฺฉุฏ', 'ุฏุณุชูุฑ', 'command', 'ฺฉูุณูู', 'cheat', 'ฺฉุฏ ุจุงุฒ'],
            items: ['ุงููุงุณ', 'ุขูู', 'ุทูุง', 'ุฒูุฑุฏ', 'ูุฏุฑุงุช', 'diamond', 'iron', 'gold'],
            effects: ['ุณุฑุนุช', 'ูุฏุฑุช', 'ุฏุฑูุงู', 'ูพุฑุด', 'ููุงููุช', 'speed', 'strength', 'regeneration'],
            game: ['ุญุงูุช', 'ุฒูุงู', 'ููุง', 'ุณุฎุช', 'gamemode', 'time', 'weather'],
            building: ['ุณุงุฎุชู', 'ูพุฑ ฺฉุฑุฏู', 'ฺฉูพ', 'ุชููโูพูุฑุช', 'fill', 'clone', 'tp']
        };
    }
    
    detectCheatRequest(message) {
        const lowerMessage = message.toLowerCase();
        
        for (const [category, words] of Object.entries(this.keywords)) {
            for (const word of words) {
                if (lowerMessage.includes(word.toLowerCase())) {
                    return category;
                }
            }
        }
        
        return null;
    }
    
    getResponseTemplate(category) {
        const templates = {
            cheat: "ุจุฑุง ฺฉุฏูุง ฺุชุ ูุทูุงู ูุดุฎุต ฺฉู:\n1. ฺู ูุณุฎูโุงุ (Java/Bedrock)\n2. ุฏููุงู ฺู ฺุฒ ูุงุฒ ุฏุงุฑุ",
            items: "ุจุฑุง ฺฏุฑูุชู ุขุชู:\nJava: `/give @p minecraft:[ูุงู ุขุชู] [ุชุนุฏุงุฏ]`\nูุซุงู: `/give @p minecraft:diamond 64`",
            effects: "ุจุฑุง ุงุซุฑูุง ูฺู:\n`/effect give @p minecraft:[ูุงู ุงุซุฑ] [ุฒูุงู] [ุณุทุญ]`\nูุซุงู: `/effect give @p minecraft:speed 300 1`",
            game: "ุจุฑุง ุชูุธูุงุช ุจุงุฒ:\nุญุงูุช: `/gamemode creative @p`\nุฒูุงู: `/time set day`\nููุง: `/weather clear`",
            building: "ุจุฑุง ุณุงุฎุชูุงู:\nูพุฑ ฺฉุฑุฏู: `/fill 0 64 0 10 70 10 minecraft:diamond_block`\nุชููโูพูุฑุช: `/tp @p 100 64 100`"
        };
        
        return templates[category] || "ุฏุฑ ููุฑุฏ ฺฉุฏูุง ฺุช ุณูุงู ุฏุงุฑุ";
    }
}

// ุฑุงูโุงูุฏุงุฒ ุณุณุชู
const cheatResponder = new CheatCommandResponder();

console.log('โ ุณุณุชู ฺฉุฏูุง ฺุช ุจุฑุง ูพุฑุงููพุช ุขูุงุฏู ุงุณุช');
    </script>
</body>
</html>
